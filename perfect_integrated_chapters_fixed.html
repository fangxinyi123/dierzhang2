<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®å¯è§†åŒ–ç»¼åˆå¹³å° - ç¬¬2-8ç« å®Œæ•´ç‰ˆ</title>
    
    <!-- åŠ è½½æ‰€éœ€çš„å›¾è¡¨åº“ -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
        }

        .main-title h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .main-title p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .chapter-tabs {
            display: flex;
            justify-content: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            flex-wrap: wrap;
            gap: 10px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .chapter-tab {
            padding: 12px 24px;
            background: linear-gradient(135deg, #e9ecef 0%, #f8f9fa 100%);
            border: none;
            color: #495057;
            cursor: pointer;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .chapter-tab:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
        }

        .chapter-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .chapter-content {
            display: none;
            animation: fadeIn 0.6s ease;
        }

        .chapter-content.active {
            display: block;
        }

        .chapter-title {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
        }

        /* ç¬¬äºŒç« æ ·å¼ */
        .ch2-header {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            text-align: center;
            padding: 30px 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .ch2-header h2 {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .ch2-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 40px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .ch2-nav-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .ch2-nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
        }

        .ch2-nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }

        .ch2-chart-indicator {
            text-align: center;
            font-size: 1.2em;
            color: #2c3e50;
            font-weight: bold;
        }

        .ch2-chart-container {
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            min-height: 600px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .ch2-chart-title {
            text-align: center;
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 25px;
            font-weight: bold;
        }

        .ch2-chart-description {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            border-left: 4px solid #e74c3c;
            width: 100%;
            max-width: 800px;
        }

        .ch2-chart-description h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .ch2-chart-description p {
            line-height: 1.6;
            color: #555;
        }

        .ch2-chart-content {
            width: 100%;
            height: 500px;
            margin: 20px 0;
        }

        /* ç¬¬ä¸‰ç« æ ·å¼ */
        .ch3-header {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            text-align: center;
            padding: 40px 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .ch3-header h2 {
            font-size: 2.8em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.3);
        }

        .ch3-section-nav {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .ch3-nav-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .ch3-nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .ch3-nav-btn.active {
            background: rgba(255, 255, 255, 0.9);
            color: #27ae60;
            border-color: #ffffff;
        }

        .ch3-content-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .ch3-content-section.active {
            display: block;
        }

        .ch3-chart-container {
            background: white;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }

        .ch3-chart-title {
            text-align: center;
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 25px;
            font-weight: bold;
            padding: 15px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            border-left: 4px solid #27ae60;
        }

        .ch3-chart-wrapper {
            width: 100%;
            height: 500px;
        }

        .ch3-controls {
            background: #f8f9fa;
            padding: 25px;
            margin-bottom: 30px;
            border-radius: 12px;
            border-left: 4px solid #27ae60;
        }

        .ch3-control-group {
            margin: 18px 0;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .ch3-control-label {
            font-weight: bold;
            color: #2c3e50;
            min-width: 120px;
        }

        .ch3-chart-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            padding: 0 20px;
        }

        .ch3-chart-nav-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }

        .ch3-chart-nav-btn:hover:not(:disabled) {
            background: #219a52;
            transform: translateY(-2px);
        }

        .ch3-chart-nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .ch3-chart-counter {
            font-size: 1.3em;
            color: #2c3e50;
            font-weight: bold;
            background: #f8f9fa;
            padding: 10px 20px;
            border-radius: 20px;
            border: 2px solid #eaeaea;
        }

        /* ç¬¬å››ç« æ ·å¼ */
        .ch4-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .ch4-tab-button {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            cursor: pointer;
            border-radius: 30px;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 600;
        }

        .ch4-tab-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .ch4-tab-button.active {
            background: white;
            color: #667eea;
        }

        .ch4-content-area {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .ch4-tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .ch4-tab-content.active {
            display: block;
        }

        .ch4-chart-container {
            margin-bottom: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .ch4-chart-title {
            font-size: 1.4rem;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }

        .ch4-chart-wrapper {
            position: relative;
            height: 400px;
            width: 100%;
        }

        .ch4-control-btn {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }

        .ch4-control-btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        /* ç¬¬äº”ç« æ ·å¼ */
        .ch5-nav-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .ch5-nav-tabs {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .ch5-nav-tab {
            padding: 12px 24px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .ch5-nav-tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .ch5-nav-tab.active {
            background: linear-gradient(45deg, #f093fb, #f5576c);
            transform: scale(1.05);
        }

        .ch5-content-area {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            min-height: 600px;
        }

        .ch5-section {
            display: none;
        }

        .ch5-section.active {
            display: block;
        }

        .ch5-chart-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            height: 500px;
            position: relative;
        }

        .ch5-multi-chart {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .ch5-multi-chart .ch5-chart-container {
            height: 400px;
        }

        .ch5-controls {
            text-align: center;
            margin-top: 20px;
        }

        .ch5-control-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .ch5-control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .ch5-info-panel {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .ch5-info-item {
            display: inline-block;
            margin-right: 30px;
            font-weight: bold;
        }

        .ch5-info-value {
            color: #667eea;
            font-size: 1.2em;
        }

        /* ç¬¬å…­ç« æ ·å¼ */
        .ch6-nav-tabs {
            display: flex;
            justify-content: center;
            background: #ecf0f1;
            padding: 15px;
            border-bottom: 1px solid #bdc3c7;
            flex-wrap: wrap;
            gap: 10px;
        }

        .ch6-nav-tab {
            padding: 10px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
        }

        .ch6-nav-tab:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .ch6-nav-tab.active {
            background: #2c3e50;
        }

        .ch6-chart-section {
            display: none;
            padding: 20px;
        }

        .ch6-chart-section.active {
            display: block;
        }

        .ch6-chart-container {
            padding: 15px;
            background: white;
            margin: 10px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            min-height: 450px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .ch6-chart-title {
            text-align: center;
            color: #2c3e50;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: bold;
            line-height: 1.3;
        }

        /* ç¬¬ä¸ƒç« æ ·å¼ */
        .ch7-header {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
            padding: 30px;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        /* ç¬¬å…«ç« æ ·å¼ */
        .ch8-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
            border-radius: 15px;
        }

        .ch8-nav {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .ch8-nav-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 15px;
        }

        .ch8-nav-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.5);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .ch8-nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .ch8-nav-btn:disabled {
            background: rgba(100, 100, 100, 0.5);
            cursor: not-allowed;
        }

        .ch8-chart-counter {
            background: rgba(255, 255, 255, 0.3);
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            min-width: 100px;
            text-align: center;
        }

        .ch8-charts-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }

        .ch8-chart-container {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            display: none;
            min-height: 450px;
            border: 1px solid #e0e0e0;
        }

        .ch8-chart-container.active {
            display: block;
        }

        .ch8-chart-title {
            font-size: 1.4rem;
            color: #333;
            margin-bottom: 10px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ch8-chart-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .ch8-chart-description {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .ch8-chart-area {
            width: 100%;
            height: 400px;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 10px;
        }

        /* é€šç”¨æ ·å¼ */
        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            min-height: 450px;
        }

        .chart-title {
            color: #2c3e50;
            font-size: 1.3em;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }

        .plot-area {
            width: 100%;
            height: 400px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .ch2-nav {
                flex-direction: column;
                gap: 15px;
            }
            
            .ch3-section-nav {
                justify-content: center;
            }
            
            .ch8-nav-buttons {
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="main-title">
                <h1>æ•°æ®å¯è§†åŒ–ç»¼åˆå¹³å°</h1>
                <p>ç¬¬2-8ç« å®Œæ•´æ•™ç¨‹</p>
            </div>
        </div>

        <div class="chapter-tabs">
            <button class="chapter-tab active" onclick="switchChapter('chapter2', this)">ç¬¬äºŒç« </button>
            <button class="chapter-tab" onclick="switchChapter('chapter3', this)">ç¬¬ä¸‰ç« </button>
            <button class="chapter-tab" onclick="switchChapter('chapter4', this)">ç¬¬å››ç« </button>
            <button class="chapter-tab" onclick="switchChapter('chapter5', this)">ç¬¬äº”ç« </button>
            <button class="chapter-tab" onclick="switchChapter('chapter6', this)">ç¬¬å…­ç« </button>
            <button class="chapter-tab" onclick="switchChapter('chapter7', this)">ç¬¬ä¸ƒç« </button>
            <button class="chapter-tab" onclick="switchChapter('chapter8', this)">ç¬¬å…«ç« </button>
        </div>

        <!-- ç¬¬äºŒç«  -->
        <section id="chapter2" class="chapter-content active">
            <div class="ch2-header">
                <h2>ğŸ“ˆ ç¬¬äºŒç«  - åŸºç¡€å›¾è¡¨æ•°æ®å¯è§†åŒ–</h2>
                <p>10ç§åŸºç¡€å›¾è¡¨ç±»å‹çš„å¹³é“ºå±•ç¤ºä¸åˆ‡æ¢æµè§ˆ</p>
            </div>
            
            <div class="ch2-nav">
                <button class="ch2-nav-btn" id="ch2-prevBtn" onclick="prevChart_ch2()">â† ä¸Šä¸€å¼ å›¾è¡¨</button>
                <div class="ch2-chart-indicator" id="ch2-chartIndicator">å›¾è¡¨ 1/10 - æŠ˜çº¿å›¾</div>
                <button class="ch2-nav-btn" id="ch2-nextBtn" onclick="nextChart_ch2()">ä¸‹ä¸€å¼ å›¾è¡¨ â†’</button>
            </div>

            <div class="ch2-chart-container">
                <div class="ch2-chart-title" id="ch2-currentChartTitle">æŠ˜çº¿å›¾ - æœˆåº¦é”€å”®è¶‹åŠ¿</div>
                
                <div class="ch2-chart-description">
                    <h3>ğŸ“‹ å›¾è¡¨è¯´æ˜</h3>
                    <p id="ch2-chartDescription">æŠ˜çº¿å›¾ç”¨äºæ˜¾ç¤ºæ•°æ®éšæ—¶é—´æˆ–å…¶ä»–è¿ç»­å˜é‡çš„å˜åŒ–è¶‹åŠ¿ã€‚å›¾ä¸­å±•ç¤ºäº†æœˆåº¦é”€å”®æ•°æ®ï¼Œå¯ä»¥æ¸…æ™°çœ‹åˆ°é”€å”®é¢çš„å­£èŠ‚æ€§æ³¢åŠ¨å’Œå¹´åº¦å¢é•¿è¶‹åŠ¿ã€‚</p>
                </div>
                
                <div class="ch2-chart-content" id="ch2-currentChart"></div>
            </div>
        </section>

        <!-- ç¬¬ä¸‰ç«  -->
        <section id="chapter3" class="chapter-content">
            <div class="ch3-header">
                <h2>ç¬¬ä¸‰ç«  - æ•°æ®å¯è§†åŒ–ç»¼åˆå¹³å°</h2>
                <p>åŸºç¡€å›¾è¡¨å±•ç¤ºä¸äº¤äº’å¼å¯è§†åŒ–</p>
            </div>
            
            <div class="ch3-section-nav">
                <button class="ch3-nav-btn active" onclick="switchSection_ch3('basic', this)">åŸºç¡€å›¾è¡¨å±•ç¤º</button>
                <button class="ch3-nav-btn" onclick="switchSection_ch3('interactive', this)">äº¤äº’å¼å¯è§†åŒ–</button>
            </div>

            <!-- åŸºç¡€å›¾è¡¨å±•ç¤ºéƒ¨åˆ† -->
            <div id="ch3-basic-section" class="ch3-content-section active">
                <div class="ch3-chart-nav">
                    <button class="ch3-chart-nav-btn" id="ch3-prevBtn" onclick="prevBasicChart_ch3()">â† ä¸Šä¸€å¼ </button>
                    <div class="ch3-chart-counter" id="ch3-chartCounter">1 / 5</div>
                    <button class="ch3-chart-nav-btn" id="ch3-nextBtn" onclick="nextBasicChart_ch3()">ä¸‹ä¸€å¼  â†’</button>
                </div>
                
                <div id="ch3-basic-chart-container" class="ch3-chart-container">
                    <div class="ch3-chart-title" id="ch3-basic-chart-title">æ­£å¼¦ä½™å¼¦å‡½æ•°</div>
                    <div class="ch3-chart-wrapper">
                        <canvas id="ch3-current-basic-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- äº¤äº’å¼å¯è§†åŒ–éƒ¨åˆ† -->
            <div id="ch3-interactive-section" class="ch3-content-section">
                <div class="ch3-controls">
                    <h3>æ§åˆ¶é¢æ¿</h3>
                    <div class="ch3-control-group">
                        <label class="ch3-control-label">æ•°æ®ç‚¹æ•°é‡:</label>
                        <input type="range" id="ch3-dataPoints" min="10" max="100" value="50" class="ch3-control-label">
                        <span id="ch3-pointsValue">50</span>
                    </div>
                    <div class="ch3-control-group">
                        <label class="ch3-control-label">å›¾è¡¨ç±»å‹:</label>
                        <select id="ch3-chartType" class="ch3-control-label">
                            <option value="line">æŠ˜çº¿å›¾</option>
                            <option value="bar">æŸ±çŠ¶å›¾</option>
                            <option value="scatter">æ•£ç‚¹å›¾</option>
                            <option value="area">é¢ç§¯å›¾</option>
                        </select>
                    </div>
                    <div class="ch3-control-group">
                        <label class="ch3-control-label">åŠ¨ç”»é€Ÿåº¦:</label>
                        <input type="range" id="ch3-animationSpeed" min="1" max="10" value="5" class="ch3-control-label">
                        <span id="ch3-speedValue">5</span>
                    </div>
                    <div class="ch3-control-group">
                        <label class="ch3-control-label">æ•°æ®èŒƒå›´:</label>
                        <input type="range" id="ch3-dataRange" min="10" max="100" value="50" class="ch3-control-label">
                        <span id="ch3-rangeValue">50</span>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
                    <div class="chart-container">
                        <div class="chart-title">åŠ¨æ€æŠ˜çº¿å›¾</div>
                        <div id="ch3-dynamicLineChart" class="plot-area"></div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">äº¤äº’å¼æ•£ç‚¹å›¾</div>
                        <div id="ch3-interactiveScatter" class="plot-area"></div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">å®æ—¶æŸ±çŠ¶å›¾</div>
                        <div id="ch3-liveBarChart" class="plot-area"></div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">å¤šå›¾è¡¨è”åŠ¨</div>
                        <div id="ch3-linkedCharts" class="plot-area"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ç¬¬å››ç«  -->
        <section id="chapter4" class="chapter-content">
            <div class="ch4-tabs">
                <button class="ch4-tab-button active" onclick="switchTab_ch4('instance1', this)">å®ä¾‹1ï¼šå›¾ä¹¦é‡‡è´­</button>
                <button class="ch4-tab-button" onclick="switchTab_ch4('instance2', this)">å®ä¾‹2ï¼šæ±‡ç‡èµ°åŠ¿</button>
                <button class="ch4-tab-button" onclick="switchTab_ch4('instance3', this)">å®ä¾‹3ï¼šäº§å“é”€å”®é¢</button>
                <button class="ch4-tab-button" onclick="switchTab_ch4('instance4', this)">å®ä¾‹4ï¼šæ°”æ¸©èµ°åŠ¿</button>
                <button class="ch4-tab-button" onclick="switchTab_ch4('instance5', this)">å®ä¾‹5ï¼šå½©è‰²é›ªèŠ±</button>
            </div>

            <div class="ch4-content-area">
                <div id="ch4-instance1" class="ch4-tab-content active">
                    <div class="ch4-chart-container">
                        <div class="ch4-chart-title">å›¾ä¹¦é‡‡è´­æ•°æ® - å †å æŸ±å½¢å›¾</div>
                        <div class="ch4-chart-wrapper">
                            <canvas id="ch4-instance1-chart"></canvas>
                        </div>
                        <div style="text-align: center; margin-top: 20px;">
                            <button class="ch4-control-btn" onclick="switchChartType_ch4('instance1')">åˆ‡æ¢å›¾è¡¨ç±»å‹</button>
                        </div>
                    </div>
                </div>

                <div id="ch4-instance2" class="ch4-tab-content">
                    <div class="ch4-chart-container">
                        <div class="ch4-chart-title">æ±‡ç‡èµ°åŠ¿ - åŒæŠ˜çº¿å›¾</div>
                        <div class="ch4-chart-wrapper">
                            <canvas id="ch4-instance2-chart"></canvas>
                        </div>
                        <div style="text-align: center; margin-top: 20px;">
                            <button class="ch4-control-btn" onclick="switchLineType_ch4('instance2')">åˆ‡æ¢çº¿å‹</button>
                        </div>
                    </div>
                </div>

                <div id="ch4-instance3" class="ch4-tab-content">
                    <div class="ch4-chart-container">
                        <div class="ch4-chart-title">äº§å“é”€å”®é¢ - å¤šç³»åˆ—æŠ˜çº¿å›¾</div>
                        <div class="ch4-chart-wrapper">
                            <canvas id="ch4-instance3-chart"></canvas>
                        </div>
                        <div style="text-align: center; margin-top: 20px;">
                            <button class="ch4-control-btn" onclick="switchMarkerStyle_ch4('instance3')">åˆ‡æ¢æ ‡è®°æ ·å¼</button>
                        </div>
                    </div>
                </div>

                <div id="ch4-instance4" class="ch4-tab-content">
                    <div class="ch4-chart-container">
                        <div class="ch4-chart-title">æ°”æ¸©èµ°åŠ¿ - åŒæŠ˜çº¿å›¾</div>
                        <div class="ch4-chart-wrapper">
                            <canvas id="ch4-instance4-chart"></canvas>
                        </div>
                    </div>
                </div>

                <div id="ch4-instance5" class="ch4-tab-content">
                    <div class="ch4-chart-container">
                        <div class="ch4-chart-title">å½©è‰²é›ªèŠ± - Kochåˆ†å½¢åŠ¨ç”»</div>
                        <div class="ch4-chart-wrapper">
                            <canvas id="ch4-instance5-chart"></canvas>
                        </div>
                        <div style="text-align: center; margin-top: 20px;">
                            <button class="ch4-control-btn" onclick="toggleAnimation_ch4()">åˆ‡æ¢åŠ¨ç”»</button>
                            <input type="color" id="ch4-snowColor" value="#3498db" onchange="changeSnowColor_ch4()">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ç¬¬äº”ç«  -->
        <section id="chapter5" class="chapter-content">
            <div class="ch5-nav-container">
                <div class="ch5-nav-tabs">
                    <button class="ch5-nav-tab active" onclick="showSection_ch5('example1')">å®ä¾‹1ï¼šäº§å“é”€å”®é¢åˆ†æ</button>
                    <button class="ch5-nav-tab" onclick="showSection_ch5('example2')">å®ä¾‹2ï¼šå® ç‰©äººç¾¤æ¯”ä¾‹åˆ†æ</button>
                    <button class="ch5-nav-tab" onclick="showSection_ch5('example3')">å®ä¾‹3ï¼šæŠ–éŸ³ç”¨æˆ·åˆ†æ</button>
                    <button class="ch5-nav-tab" onclick="showSection_ch5('example4')">å®ä¾‹4ï¼šæ°”æ¸©é™æ°´è’¸å‘é‡</button>
                    <button class="ch5-nav-tab" onclick="showSection_ch5('example5')">å®ä¾‹5ï¼šæ±½è½¦é”€å”®æƒ…å†µ</button>
                </div>
            </div>
            
            <div class="ch5-content-area">
                <!-- å®ä¾‹1 -->
                <div class="ch5-section active" id="ch5-example1">
                    <h2 style="color: #333; margin-bottom: 20px; text-align: center; font-size: 1.8em;">å®ä¾‹1ï¼šæŸå·¥å‚äº§å“Aä¸äº§å“Bå»å¹´çš„é”€å”®é¢åˆ†æ</h2>
                    <div class="ch5-info-panel">
                        <div class="ch5-info-item">æ•°æ®ç±»å‹: <span class="ch5-info-value">æœˆåº¦é”€å”®é¢</span></div>
                        <div class="ch5-info-item">äº§å“æ•°é‡: <span class="ch5-info-value">2ä¸ªäº§å“</span></div>
                        <div class="ch5-info-item">æ—¶é—´èŒƒå›´: <span class="ch5-info-value">12ä¸ªæœˆ</span></div>
                    </div>
                    
                    <div class="ch5-multi-chart">
                        <div class="ch5-chart-container">
                            <div class="chart-title">äº§å“Aä¸äº§å“Bæœˆåº¦é”€å”®é¢å¯¹æ¯”</div>
                            <canvas id="ch5-example1-line"></canvas>
                        </div>
                        <div class="ch5-chart-container">
                            <div class="chart-title">äº§å“Aé”€å”®é¢åˆ†å¸ƒ</div>
                            <canvas id="ch5-example1-pie1"></canvas>
                        </div>
                        <div class="ch5-chart-container">
                            <div class="chart-title">äº§å“Bé”€å”®é¢åˆ†å¸ƒ</div>
                            <canvas id="ch5-example1-pie2"></canvas>
                        </div>
                    </div>
                    
                    <div class="ch5-controls">
                        <button class="ch5-control-btn" onclick="refreshExample1_ch5()">åˆ·æ–°æ•°æ®</button>
                        <button class="ch5-control-btn" onclick="toggleAnimation1_ch5()">åˆ‡æ¢åŠ¨ç”»</button>
                    </div>
                </div>
                
                <!-- å®ä¾‹2 -->
                <div class="ch5-section" id="ch5-example2">
                    <h2 style="color: #333; margin-bottom: 20px; text-align: center; font-size: 1.8em;">å®ä¾‹2ï¼šéƒ¨åˆ†å›½å®¶å…»çŒ«ä¸å…»ç‹—äººç¾¤æ¯”ä¾‹åˆ†æ</h2>
                    <div class="ch5-info-panel">
                        <div class="ch5-info-item">å›½å®¶æ•°é‡: <span class="ch5-info-value">12ä¸ªå›½å®¶</span></div>
                        <div class="ch5-info-item">å® ç‰©ç±»å‹: <span class="ch5-info-value">çŒ«ã€ç‹—</span></div>
                        <div class="ch5-info-item">æ•°æ®æŒ‡æ ‡: <span class="ch5-info-value">äººç¾¤æ¯”ä¾‹(%)</span></div>
                    </div>
                    
                    <div class="ch5-multi-chart">
                        <div class="ch5-chart-container">
                            <div class="chart-title">å„å›½å…»çŒ«äººç¾¤æ¯”ä¾‹</div>
                            <canvas id="ch5-example2-cats"></canvas>
                        </div>
                        <div class="ch5-chart-container">
                            <div class="chart-title">å„å›½å…»ç‹—äººç¾¤æ¯”ä¾‹</div>
                            <canvas id="ch5-example2-dogs"></canvas>
                        </div>
                    </div>
                    
                    <div class="ch5-controls">
                        <button class="ch5-control-btn" onclick="refreshExample2_ch5()">åˆ·æ–°æ•°æ®</button>
                        <button class="ch5-control-btn" onclick="sortData_ch5()">æ’åºæ˜¾ç¤º</button>
                    </div>
                </div>
                
                <!-- å®ä¾‹3 -->
                <div class="ch5-section" id="ch5-example3">
                    <h2 style="color: #333; margin-bottom: 20px; text-align: center; font-size: 1.8em;">å®ä¾‹3ï¼š2017å¹´ä¸2018å¹´æŠ–éŸ³ç”¨æˆ·åˆ†æ</h2>
                    <div class="ch5-info-panel">
                        <div class="ch5-info-item">å¯¹æ¯”å¹´ä»½: <span class="ch5-info-value">2017 vs 2018</span></div>
                        <div class="ch5-info-item">åœ°åŒºåˆ†ç±»: <span class="ch5-info-value">5ç±»åœ°åŒº</span></div>
                        <div class="ch5-info-item">å¢é•¿æŒ‡æ ‡: <span class="ch5-info-value">ç”¨æˆ·å¢é•¿å€æ•°</span></div>
                    </div>
                    
                    <div class="ch5-multi-chart">
                        <div class="ch5-chart-container">
                            <div class="chart-title">æŠ–éŸ³2018vs2017äººç¾¤å¢é•¿å€æ•°</div>
                            <canvas id="ch5-example3-growth"></canvas>
                        </div>
                        <div class="ch5-chart-container">
                            <div class="chart-title">2017å¹´æŠ–éŸ³ç”¨æˆ·åœ°åŒºåˆ†å¸ƒ</div>
                            <canvas id="ch5-example3-2017"></canvas>
                        </div>
                        <div class="ch5-chart-container">
                            <div class="chart-title">2018å¹´æŠ–éŸ³ç”¨æˆ·åœ°åŒºåˆ†å¸ƒ</div>
                            <canvas id="ch5-example3-2018"></canvas>
                        </div>
                    </div>
                    
                    <div class="ch5-controls">
                        <button class="ch5-control-btn" onclick="refreshExample3_ch5()">åˆ·æ–°æ•°æ®</button>
                        <button class="ch5-control-btn" onclick="compareYears_ch5()">å¯¹æ¯”åˆ†æ</button>
                    </div>
                </div>
                
                <!-- å®ä¾‹4 -->
                <div class="ch5-section" id="ch5-example4">
                    <h2 style="color: #333; margin-bottom: 20px; text-align: center; font-size: 1.8em;">å®ä¾‹4ï¼šæŸåœ°åŒºå…¨å¹´å¹³å‡æ°”æ¸©ä¸é™æ°´é‡ã€è’¸å‘é‡çš„å…³ç³»</h2>
                    <div class="ch5-info-panel">
                        <div class="ch5-info-item">æ—¶é—´èŒƒå›´: <span class="ch5-info-value">12ä¸ªæœˆ</span></div>
                        <div class="ch5-info-item">æµ‹é‡æŒ‡æ ‡: <span class="ch5-info-value">æ°”æ¸©ã€é™æ°´é‡ã€è’¸å‘é‡</span></div>
                        <div class="ch5-info-item">å›¾è¡¨ç±»å‹: <span class="ch5-info-value">æ··åˆåæ ‡è½´</span></div>
                    </div>
                    
                    <div class="ch5-chart-container">
                        <div class="chart-title">å¹³å‡æ°”æ¸©ä¸é™æ°´é‡ã€è’¸å‘é‡çš„å…³ç³»</div>
                        <canvas id="ch5-example4-climate"></canvas>
                    </div>
                    
                    <div class="ch5-controls">
                        <button class="ch5-control-btn" onclick="refreshExample4_ch5()">åˆ·æ–°æ•°æ®</button>
                        <button class="ch5-control-btn" onclick="toggleView_ch5()">åˆ‡æ¢è§†å›¾</button>
                    </div>
                </div>
                
                <!-- å®ä¾‹5 -->
                <div class="ch5-section" id="ch5-example5">
                    <h2 style="color: #333; margin-bottom: 20px; text-align: center; font-size: 1.8em;">å®ä¾‹5ï¼š2018å¹´ä¸ŠåŠå¹´æŸå“ç‰Œæ±½è½¦é”€å”®æƒ…å†µ</h2>
                    <div class="ch5-info-panel">
                        <div class="ch5-info-item">æ—¶é—´èŒƒå›´: <span class="ch5-info-value">2018å¹´ä¸ŠåŠå¹´</span></div>
                        <div class="ch5-info-item">åœ°åŒºåˆ†å¸ƒ: <span class="ch5-info-value">6ä¸ªä¸»è¦åŸå¸‚</span></div>
                        <div class="ch5-info-item">åˆ†æç»´åº¦: <span class="ch5-info-value">é”€å”®é¢ã€é”€é‡ã€è¶‹åŠ¿</span></div>
                    </div>
                    
                    <div class="ch5-multi-chart">
                        <div class="ch5-chart-container">
                            <div class="chart-title">2018å¹´ä¸ŠåŠå¹´æŸå“ç‰Œæ±½è½¦çš„é”€å”®é¢</div>
                            <canvas id="ch5-example5-sales"></canvas>
                        </div>
                        <div class="ch5-chart-container">
                            <div class="chart-title">åˆ†å…¬å¸æŸå“ç‰Œæ±½è½¦çš„é”€é‡</div>
                            <canvas id="ch5-example5-count"></canvas>
                        </div>
                        <div class="ch5-chart-container">
                            <div class="chart-title">åˆ†å…¬å¸é”€é‡è¶‹åŠ¿</div>
                            <canvas id="ch5-example5-trend"></canvas>
                        </div>
                    </div>
                    
                    <div class="ch5-controls">
                        <button class="ch5-control-btn" onclick="refreshExample5_ch5()">åˆ·æ–°æ•°æ®</button>
                        <button class="ch5-control-btn" onclick="showAnalysis_ch5()">åˆ†ææŠ¥å‘Š</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- ç¬¬å…­ç«  -->
        <section id="chapter6" class="chapter-content">
            <div class="ch6-nav-tabs">
                <button class="ch6-nav-tab active" onclick="showSection_ch6('axis-overview', this)">åæ ‡è½´æ¦‚è¿°</button>
                <button class="ch6-nav-tab" onclick="showSection_ch6('custom-ticks', this)">å®šåˆ¶åˆ»åº¦</button>
                <button class="ch6-nav-tab" onclick="showSection_ch6('hide-spines', this)">éšè—è½´è„Š</button>
                <button class="ch6-nav-tab" onclick="showSection_ch6('case-study-1', this)">æ·±åœ³é£é€Ÿæ¡ˆä¾‹(ä¸€)</button>
                <button class="ch6-nav-tab" onclick="showSection_ch6('case-study-2', this)">æ·±åœ³é£é€Ÿæ¡ˆä¾‹(äºŒ)</button>
                <button class="ch6-nav-tab" onclick="showSection_ch6('case-study-3', this)">æ­£ä½™å¼¦å‡½æ•°æ¡ˆä¾‹</button>
            </div>
            
            <div id="ch6-axis-overview" class="ch6-chart-section active">
                <div class="ch6-chart-container">
                    <div class="ch6-chart-title">åŸºç¡€åæ ‡è½´ç»“æ„å±•ç¤º</div>
                    <div id="ch6-basicAxisChart" style="height: 400px;"></div>
                </div>
            </div>
        </section>

        <!-- ç¬¬ä¸ƒç«  -->
        <section id="chapter7" class="chapter-content">
            <div class="ch7-header">
                <h2>ç¬¬ä¸ƒç« ï¼š3Då¯è§†åŒ–</h2>
                <p>ä¸‰ç»´æ•°æ®å¯è§†åŒ–æŠ€æœ¯å±•ç¤º</p>
            </div>
            <div class="chart-container">
                <div class="chart-title">3Dç«‹ç€äº”è§’æ˜Ÿ</div>
                <div id="ch7-chart" class="plot-area"></div>
            </div>
        </section>

        <!-- ç¬¬å…«ç«  -->
        <section id="chapter8" class="chapter-content">
            <div class="ch8-header">
                <h1>ç¬¬8ç« æ•°æ®å¯è§†åŒ–å¹³å°</h1>
                <div class="subtitle">æ¢ç´¢é«˜çº§æ•°æ®å¯è§†åŒ–æŠ€æœ¯çš„ç»¼åˆå±•ç¤ºå¹³å°</div>
                
                <div class="ch8-nav">
                    <div class="ch8-nav-buttons">
                        <button class="ch8-nav-btn" id="ch8-prevBtn" onclick="showPrevChart_ch8()">
                            â† ä¸Šä¸€å¼ 
                        </button>
                        <div class="ch8-chart-counter" id="ch8-counter">1 / 10</div>
                        <button class="ch8-nav-btn" id="ch8-nextBtn" onclick="showNextChart_ch8()">
                            ä¸‹ä¸€å¼  â†’
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ch8-charts-grid">
                <!-- ç­‰é«˜çº¿å›¾ -->
                <div class="ch8-chart-container active" id="ch8-chart-0">
                    <div class="ch8-chart-title">
                        <span class="ch8-chart-number">1</span>
                        ç­‰é«˜çº¿å›¾ (8.1)
                    </div>
                    <div class="ch8-chart-description">
                        ç­‰é«˜çº¿å›¾ç”¨äºè¡¨ç¤ºä¸‰ç»´æ•°æ®åœ¨äºŒç»´å¹³é¢ä¸Šçš„æŠ•å½±ï¼Œé€šè¿‡ç­‰å€¼çº¿å±•ç¤ºæ•°æ®çš„é«˜åº¦åˆ†å¸ƒç‰¹å¾ã€‚
                    </div>
                    <div class="ch8-chart-area" id="ch8-contour-chart"></div>
                </div>
                
                <!-- çŸ¢é‡åœºæµçº¿å›¾ -->
                <div class="ch8-chart-container" id="ch8-chart-1">
                    <div class="ch8-chart-title">
                        <span class="ch8-chart-number">2</span>
                        çŸ¢é‡åœºæµçº¿å›¾ (8.2)
                    </div>
                    <div class="ch8-chart-description">
                        çŸ¢é‡åœºæµçº¿å›¾ç”¨äºå¯è§†åŒ–å‘é‡åœºçš„æµåŠ¨æ–¹å‘å’Œå¼ºåº¦ï¼Œå¹¿æ³›åº”ç”¨äºæµä½“åŠ›å­¦ã€ç”µç£åœºç­‰ç§‘å­¦è®¡ç®—é¢†åŸŸã€‚
                    </div>
                    <div class="ch8-chart-area" id="ch8-streamplot-chart"></div>
                </div>
                
                <!-- æ£‰æ£’å›¾ -->
                <div class="ch8-chart-container" id="ch8-chart-2">
                    <div class="ch8-chart-title">
                        <span class="ch8-chart-number">3</span>
                        æ£‰æ£’å›¾ (8.3)
                    </div>
                    <div class="ch8-chart-description">
                        æ£‰æ£’å›¾ç”¨äºå±•ç¤ºç¦»æ•£æ•°æ®ç‚¹çš„æ•°å€¼ï¼Œé€šè¿‡å‚ç›´çº¿æ¡è¿æ¥åŸºçº¿åˆ°æ•°æ®ç‚¹ï¼Œé€‚åˆå±•ç¤ºæ—¶é—´åºåˆ—æ•°æ®å¯¹æ¯”ã€‚
                    </div>
                    <div class="ch8-chart-area" id="ch8-stem-chart"></div>
                </div>
                
                <!-- å“‘é“ƒå›¾ -->
                <div class="ch8-chart-container" id="ch8-chart-3">
                    <div class="ch8-chart-title">
                        <span class="ch8-chart-number">4</span>
                        å“‘é“ƒå›¾ (8.4)
                    </div>
                    <div class="ch8-chart-description">
                        å“‘é“ƒå›¾ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ—¶é—´ç‚¹æˆ–ä¸¤ç»„æ•°æ®çš„å·®å¼‚ï¼Œé€šè¿‡è¿æ¥çº¿å±•ç¤ºå˜åŒ–è¶‹åŠ¿ï¼Œé€‚åˆå±•ç¤ºå‰åå¯¹æ¯”ã€‚
                    </div>
                    <div class="ch8-chart-area" id="ch8-dumbbell-chart"></div>
                </div>
                
                <!-- ç”˜ç‰¹å›¾ -->
                <div class="ch8-chart-container" id="ch8-chart-4">
                    <div class="ch8-chart-title">
                        <span class="ch8-chart-number">5</span>
                        ç”˜ç‰¹å›¾ (8.5)
                    </div>
                    <div class="ch8-chart-description">
                        ç”˜ç‰¹å›¾æ˜¯é¡¹ç›®ç®¡ç†ä¸­çš„é‡è¦å·¥å…·ï¼Œé€šè¿‡æ¡å½¢å›¾å±•ç¤ºé¡¹ç›®ä»»åŠ¡çš„æ—¶é—´å®‰æ’ã€æŒç»­æ—¶é—´å’Œä¾èµ–å…³ç³»ã€‚
                    </div>
                    <div class="ch8-chart-area" id="ch8-gantt-chart"></div>
                </div>
                
                <!-- äººå£é‡‘å­—å¡”å›¾ -->
                <div class="ch8-chart-container" id="ch8-chart-5">
                    <div class="ch8-chart-title">
                        <span class="ch8-chart-number">6</span>
                        äººå£é‡‘å­—å¡”å›¾ (8.6)
                    </div>
                    <div class="ch8-chart-description">
                        äººå£é‡‘å­—å¡”å›¾ç”¨äºå±•ç¤ºäººå£æŒ‰å¹´é¾„å’Œæ€§åˆ«çš„åˆ†å¸ƒæƒ…å†µï¼Œæ˜¯äººå£ç»Ÿè®¡å­¦ä¸­çš„ç»å…¸å›¾è¡¨ã€‚
                    </div>
                    <div class="ch8-chart-area" id="ch8-pyramid-chart"></div>
                </div>
                
                <!-- æ¼æ–—å›¾ -->
                <div class="ch8-chart-container" id="ch8-chart-6">
                    <div class="ch8-chart-title">
                        <span class="ch8-chart-number">7</span>
                        æ¼æ–—å›¾ (8.7)
                    </div>
                    <div class="ch8-chart-description">
                        æ¼æ–—å›¾ç”¨äºå±•ç¤ºæ•°æ®åœ¨ä¸åŒé˜¶æ®µçš„é€’å‡è¿‡ç¨‹ï¼Œå¸¸ç”¨äºé”€å”®æ¼æ–—ã€è½¬åŒ–ç‡åˆ†æç­‰åœºæ™¯ã€‚
                    </div>
                    <div class="ch8-chart-area" id="ch8-funnel-chart"></div>
                </div>
                
                <!-- æ¡‘åŸºå›¾ -->
                <div class="ch8-chart-container" id="ch8-chart-7">
                    <div class="ch8-chart-title">
                        <span class="ch8-chart-number">8</span>
                        æ¡‘åŸºå›¾ (8.8)
                    </div>
                    <div class="ch8-chart-description">
                        æ¡‘åŸºå›¾ç”¨äºå±•ç¤ºæµé‡åœ¨ä¸åŒèŠ‚ç‚¹é—´çš„åˆ†é…å’ŒæµåŠ¨ï¼Œé€šè¿‡æµåŠ¨å¸¦çš„å®½åº¦è¡¨ç¤ºæµé‡å¤§å°ã€‚
                    </div>
                    <div class="ch8-chart-area" id="ch8-sankey-chart"></div>
                </div>
                
                <!-- æ ‘çŠ¶å›¾ -->
                <div class="ch8-chart-container" id="ch8-chart-8">
                    <div class="ch8-chart-title">
                        <span class="ch8-chart-number">9</span>
                        æ ‘çŠ¶å›¾ (8.9)
                    </div>
                    <div class="ch8-chart-description">
                        æ ‘çŠ¶å›¾ä»¥æ ‘å½¢ç»“æ„å±•ç¤ºå±‚çº§æ•°æ®ï¼Œé€šè¿‡èŠ‚ç‚¹çš„è¿æ¥å…³ç³»å±•ç¤ºæ•°æ®çš„å±‚æ¬¡ç»“æ„å’Œä»å±å…³ç³»ã€‚
                    </div>
                    <div class="ch8-chart-area" id="ch8-tree-chart"></div>
                </div>
                
                <!-- åå¤«é¥¼å›¾ -->
                <div class="ch8-chart-container" id="ch8-chart-9">
                    <div class="ch8-chart-title">
                        <span class="ch8-chart-number">10</span>
                        åå¤«é¥¼å›¾ (8.10)
                    </div>
                    <div class="ch8-chart-description">
                        åå¤«é¥¼å›¾é€šè¿‡ç½‘æ ¼å•å…ƒçš„ç»„åˆå±•ç¤ºæ¯”ä¾‹æ•°æ®ï¼Œä»¥ç›´è§‚çš„æ–¹å¼å‘ˆç°ç™¾åˆ†æ¯”ä¿¡æ¯ã€‚
                    </div>
                    <div class="ch8-chart-area" id="ch8-waffle-chart"></div>
                </div>
            </div>
        </section>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentChapter = 'chapter2';
        let ch2CurrentChartIndex = 0;
        let ch3CurrentBasicChartIndex = 0;

        // ç¬¬ä¸‰ç« åŸºç¡€å›¾è¡¨æ•°æ®
        const ch3BasicCharts = [
            {
                title: 'æ­£å¼¦ä½™å¼¦å‡½æ•°',
                type: 'line',
                data: {
                    labels: Array.from({length: 101}, (_, i) => (-Math.PI + 2 * Math.PI * i / 100).toFixed(2)),
                    datasets: [
                        {
                            label: 'sin(x)',
                            data: Array.from({length: 101}, (_, i) => Math.sin(-Math.PI + 2 * Math.PI * i / 100)),
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4
                        },
                        {
                            label: 'cos(x)',
                            data: Array.from({length: 101}, (_, i) => Math.cos(-Math.PI + 2 * Math.PI * i / 100)),
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4
                        }
                    ]
                }
            },
            {
                title: 'ç”µå½±ç¥¨æˆ¿æ’è¡Œ',
                type: 'bar',
                data: {
                    labels: ['å“ªå’ä¹‹é­”ç«¥é™ä¸–', 'æµæµªåœ°çƒ', 'å¤ä»‡è€…è”ç›Ÿ4', 'æˆ‘å’Œæˆ‘çš„ç¥–å›½', 'ä¸­å›½æœºé•¿'],
                    datasets: [{
                        label: 'ç¥¨æˆ¿ï¼ˆäº¿å…ƒï¼‰',
                        data: [50.03, 46.86, 42.5, 31.7, 29.12],
                        backgroundColor: '#27ae60',
                        borderColor: '#2c3e50',
                        borderWidth: 2,
                        borderRadius: 5
                    }]
                }
            },
            {
                title: 'æ”¯ä»˜å®æœˆè´¦å•',
                type: 'pie',
                data: {
                    labels: ['è´­ç‰©æ¶ˆè´¹', 'é¤é¥®ç¾é£Ÿ', 'äº¤é€šå‡ºè¡Œ', 'å¨±ä¹ä¼‘é—²', 'ç”Ÿæ´»ç¼´è´¹'],
                    datasets: [{
                        data: [35, 25, 15, 10, 8],
                        backgroundColor: ['#e74c3c', '#3498db', '#2ecc71', '#f39c12', '#9b59b6'],
                        borderWidth: 3,
                        borderColor: '#ffffff'
                    }]
                }
            },
            {
                title: 'æ±½è½¦é€Ÿåº¦åˆ†æ',
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»',
                        data: [
                            {x: 20, y: 6}, {x: 30, y: 14}, {x: 40, y: 24}, {x: 50, y: 38}, 
                            {x: 60, y: 55}, {x: 70, y: 75}, {x: 80, y: 98}
                        ],
                        backgroundColor: '#e67e22',
                        borderColor: '#d35400',
                        borderWidth: 2,
                        pointRadius: 8
                    }]
                }
            },
            {
                title: 'è‹±è¯­æˆç»©å¯¹æ¯”',
                type: 'bar',
                data: {
                    labels: ['1ç­', '2ç­', '3ç­', '4ç­', '5ç­'],
                    datasets: [
                        {
                            label: 'ä¸Šå­¦æœŸ',
                            data: [85, 78, 92, 88, 76],
                            backgroundColor: '#3498db',
                            borderColor: '#2980b9',
                            borderWidth: 2
                        },
                        {
                            label: 'ä¸‹å­¦æœŸ',
                            data: [88, 82, 95, 91, 79],
                            backgroundColor: '#2ecc71',
                            borderColor: '#27ae60',
                            borderWidth: 2
                        }
                    ]
                }
            }
        ];
        let ch3CurrentSection = 'basic';
        let ch4CurrentInstance = 'instance1';
        let ch5CurrentSection = 'example1';
        let ch6CurrentSection = 'axis-overview';
        let ch8CurrentChartIndex = 0;
        let ch4Charts = {};
        let ch5Charts = {};

        // ç¬¬äºŒç« å›¾è¡¨æ•°æ®ï¼ˆå®Œæ•´10ä¸ªå›¾è¡¨ï¼‰
        const ch2Charts = [
            {
                title: "æŠ˜çº¿å›¾ - æœˆåº¦é”€å”®è¶‹åŠ¿",
                description: "æŠ˜çº¿å›¾ç”¨äºæ˜¾ç¤ºæ•°æ®éšæ—¶é—´æˆ–å…¶ä»–è¿ç»­å˜é‡çš„å˜åŒ–è¶‹åŠ¿ã€‚å›¾ä¸­å±•ç¤ºäº†æœˆåº¦é”€å”®æ•°æ®ï¼Œå¯ä»¥æ¸…æ™°çœ‹åˆ°é”€å”®é¢çš„å­£èŠ‚æ€§æ³¢åŠ¨å’Œå¹´åº¦å¢é•¿è¶‹åŠ¿ã€‚",
                data: [{
                    x: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
                    y: [4500, 5200, 4800, 6200, 5800, 7100, 6500, 7300, 6800, 7500, 8200, 9000],
                    type: 'scatter',
                    mode: 'lines+markers',
                    line: {color: '#e74c3c', width: 3},
                    marker: {size: 6, color: '#e74c3c'}
                }],
                layout: {
                    title: 'å¹´åº¦é”€å”®è¶‹åŠ¿',
                    xaxis: {title: 'æœˆä»½'},
                    yaxis: {title: 'é”€å”®é¢(ä¸‡å…ƒ)'},
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)'
                }
            },
            {
                title: "æŸ±å½¢å›¾ - äº§å“é”€é‡å¯¹æ¯”",
                description: "æŸ±å½¢å›¾é€šè¿‡å‚ç›´æŸ±å­çš„é«˜åº¦æ¥æ¯”è¾ƒä¸åŒç±»åˆ«çš„æ•°æ®ã€‚å›¾ä¸­å±•ç¤ºäº†äº”ç§äº§å“çš„é”€é‡å¯¹æ¯”ï¼Œç›´è§‚åæ˜ å„äº§å“çš„å¸‚åœºè¡¨ç°ã€‚",
                data: [{
                    x: ['äº§å“A', 'äº§å“B', 'äº§å“C', 'äº§å“D', 'äº§å“E'],
                    y: [4500, 3200, 2800, 5200, 3800],
                    type: 'bar',
                    marker: {color: '#3498db'}
                }],
                layout: {
                    title: 'äº§å“é”€é‡å¯¹æ¯”',
                    xaxis: {title: 'äº§å“åç§°'},
                    yaxis: {title: 'é”€é‡(ä»¶)'},
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)'
                }
            },
            {
                title: "æ¡å½¢å›¾ - åœ°åŒºé”€å”®é¢",
                description: "æ¡å½¢å›¾æ˜¯æŸ±å½¢å›¾çš„æ¨ªå‘ç‰ˆæœ¬ï¼Œé€‚åˆç±»åˆ«åç§°è¾ƒé•¿çš„æƒ…å†µã€‚å›¾ä¸­å±•ç¤ºäº†äº”ä¸ªä¸»è¦åŸå¸‚çš„é”€å”®é¢å¯¹æ¯”ã€‚",
                data: [{
                    y: ['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³', 'æ­å·'],
                    x: [8500, 9200, 7800, 9600, 6800],
                    type: 'bar',
                    orientation: 'h',
                    marker: {color: '#2ecc71'}
                }],
                layout: {
                    title: 'åœ°åŒºé”€å”®é¢',
                    xaxis: {title: 'é”€å”®é¢(ä¸‡å…ƒ)'},
                    yaxis: {title: 'åœ°åŒº'},
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)'
                }
            },
            {
                title: "å †ç§¯é¢ç§¯å›¾ - äº§å“å¸‚åœºä»½é¢",
                description: "å †ç§¯é¢ç§¯å›¾æ˜¾ç¤ºéƒ¨åˆ†ä¸æ•´ä½“çš„å…³ç³»ï¼ŒåŒæ—¶å±•ç¤ºéšæ—¶é—´å˜åŒ–çš„è¶‹åŠ¿ã€‚å›¾ä¸­å±•ç¤ºäº†çº¿ä¸Šå’Œçº¿ä¸‹æ¸ é“çš„å¸‚åœºä»½é¢å˜åŒ–ã€‚",
                data: [
                    {
                        x: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'],
                        y: [1500, 1800, 2000, 2200, 2500, 2800],
                        type: 'scatter',
                        mode: 'lines',
                        fill: 'tozeroy',
                        name: 'çº¿ä¸Šæ¸ é“',
                        line: {color: '#e74c3c'}
                    },
                    {
                        x: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'],
                        y: [800, 950, 1100, 1200, 1300, 1400],
                        type: 'scatter',
                        mode: 'lines',
                        fill: 'tonexty',
                        name: 'çº¿ä¸‹æ¸ é“',
                        line: {color: '#3498db'}
                    }
                ],
                layout: {
                    title: 'äº§å“å¸‚åœºä»½é¢',
                    xaxis: {title: 'æœˆä»½'},
                    yaxis: {title: 'å¸‚åœºä»½é¢(%)'},
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)'
                }
            },
            {
                title: "ç›´æ–¹å›¾ - ç”¨æˆ·å¹´é¾„åˆ†å¸ƒ",
                description: "ç›´æ–¹å›¾ç”¨äºå±•ç¤ºæ•°å€¼æ•°æ®çš„åˆ†å¸ƒæƒ…å†µï¼Œå°†æ•°æ®åˆ†æˆå¤šä¸ªåŒºé—´å¹¶ç»Ÿè®¡æ¯ä¸ªåŒºé—´çš„é¢‘æ•°ã€‚å›¾ä¸­å±•ç¤ºäº†ç”¨æˆ·å¹´é¾„çš„åˆ†å¸ƒç‰¹å¾ã€‚",
                data: [{
                    x: [22, 25, 28, 30, 32, 35, 28, 26, 24, 29, 31, 33, 27, 26, 25, 30, 32, 34, 29, 27],
                    type: 'histogram',
                    marker: {color: '#9b59b6'}
                }],
                layout: {
                    title: 'ç”¨æˆ·å¹´é¾„åˆ†å¸ƒ',
                    xaxis: {title: 'å¹´é¾„'},
                    yaxis: {title: 'äººæ•°'},
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)'
                }
            },
            {
                title: "é¥¼å›¾ - äº§å“ç±»åˆ«å æ¯”",
                description: "é¥¼å›¾é€šè¿‡æ‰‡å½¢é¢ç§¯è¡¨ç¤ºå„éƒ¨åˆ†åœ¨æ•´ä½“ä¸­çš„æ¯”ä¾‹å…³ç³»ã€‚å›¾ä¸­å±•ç¤ºäº†äº”ä¸ªäº§å“ç±»åˆ«çš„å¸‚åœºå æ¯”æƒ…å†µã€‚",
                data: [{
                    values: [35, 25, 20, 15, 5],
                    labels: ['ç”µå­äº§å“', 'æœè£…', 'é£Ÿå“', 'å®¶å±…', 'å…¶ä»–'],
                    type: 'pie',
                    marker: {colors: ['#e74c3c', '#3498db', '#2ecc71', '#f39c12', '#9b59b6']}
                }],
                layout: {
                    title: 'äº§å“ç±»åˆ«å æ¯”',
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)'
                }
            },
            {
                title: "æ•£ç‚¹å›¾ - ä»·æ ¼ä¸é”€é‡å…³ç³»",
                description: "æ•£ç‚¹å›¾ç”¨äºåˆ†æä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§ã€‚å›¾ä¸­å±•ç¤ºäº†äº§å“ä»·æ ¼ä¸é”€é‡ä¹‹é—´çš„å…³ç³»ï¼Œå¸®åŠ©åˆ†æå®šä»·ç­–ç•¥ã€‚",
                data: [{
                    x: [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000],
                    y: [150, 280, 320, 450, 520, 580, 620, 750, 820, 950],
                    mode: 'markers',
                    type: 'scatter',
                    marker: {size: 12, color: '#e74c3c'}
                }],
                layout: {
                    title: 'ä»·æ ¼ä¸é”€é‡å…³ç³»',
                    xaxis: {title: 'ä»·æ ¼(å…ƒ)'},
                    yaxis: {title: 'é”€é‡(ä»¶)'},
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)'
                }
            },
            {
                title: "ç®±å‹å›¾ - æ”¶å…¥åˆ†å¸ƒç»Ÿè®¡",
                description: "ç®±å‹å›¾å±•ç¤ºæ•°æ®çš„åˆ†å¸ƒç‰¹å¾ï¼ŒåŒ…æ‹¬ä¸­ä½æ•°ã€å››åˆ†ä½æ•°ã€å¼‚å¸¸å€¼ç­‰ã€‚å›¾ä¸­å¯¹æ¯”äº†æŠ€æœ¯å²—ä½å’Œé”€å”®å²—ä½çš„æ”¶å…¥åˆ†å¸ƒæƒ…å†µã€‚",
                data: [
                    {
                        y: [2500, 2800, 3200, 3500, 3800, 4200, 4500],
                        type: 'box',
                        name: 'æŠ€æœ¯å²—ä½',
                        marker: {color: '#3498db'}
                    },
                    {
                        y: [1800, 2200, 2500, 2800, 3200, 3500],
                        type: 'box',
                        name: 'é”€å”®å²—ä½',
                        marker: {color: '#2ecc71'}
                    }
                ],
                layout: {
                    title: 'æ”¶å…¥åˆ†å¸ƒç»Ÿè®¡',
                    yaxis: {title: 'æœˆæ”¶å…¥(å…ƒ)'},
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)'
                }
            },
            {
                title: "é›·è¾¾å›¾ - äº§å“å¤šç»´åº¦è¯„åˆ†",
                description: "é›·è¾¾å›¾ç”¨äºå¤šç»´åº¦æ•°æ®çš„æ¯”è¾ƒåˆ†æï¼Œæ¯ä¸ªç»´åº¦ä»ä¸­å¿ƒå‘å¤–å»¶ä¼¸ã€‚å›¾ä¸­å±•ç¤ºäº†äº§å“åœ¨å…­ä¸ªç»´åº¦çš„è¯„åˆ†æƒ…å†µã€‚",
                data: [{
                    type: 'scatterpolar',
                    r: [4, 5, 3, 4, 5, 4],
                    theta: ['åŠŸèƒ½', 'è®¾è®¡', 'æ€§èƒ½', 'ä»·æ ¼', 'æœåŠ¡', 'æ˜“ç”¨æ€§'],
                    fill: 'toself',
                    name: 'äº§å“A',
                    marker: {color: '#e74c3c'}
                }],
                layout: {
                    title: 'äº§å“å¤šç»´åº¦è¯„åˆ†',
                    polar: {
                        radialaxis: {
                            visible: true,
                            range: [0, 5]
                        }
                    },
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)'
                }
            },
            {
                title: "è¯¯å·®æ£’å›¾ - å®éªŒæ•°æ®æ³¢åŠ¨",
                description: "è¯¯å·®æ£’å›¾æ˜¾ç¤ºæ•°æ®çš„æ³¢åŠ¨èŒƒå›´å’Œä¸ç¡®å®šæ€§ï¼Œè¯¯å·®æ£’è¡¨ç¤ºæ•°æ®çš„æ ‡å‡†å·®æˆ–ç½®ä¿¡åŒºé—´ã€‚å›¾ä¸­å±•ç¤ºäº†äº”ä¸ªå®éªŒæ•°æ®çš„æµ‹é‡ç»“æœã€‚",
                data: [{
                    x: ['å®éªŒ1', 'å®éªŒ2', 'å®éªŒ3', 'å®éªŒ4', 'å®éªŒ5'],
                    y: [3.2, 3.8, 3.5, 4.1, 3.9],
                    type: 'scatter',
                    mode: 'markers',
                    error_y: {
                        type: 'data',
                        array: [0.3, 0.4, 0.2, 0.5, 0.3],
                        visible: true
                    },
                    marker: {color: '#f39c12', size: 10}
                }],
                layout: {
                    title: 'å®éªŒæ•°æ®æ³¢åŠ¨',
                    xaxis: {title: 'å®éªŒç¼–å·'},
                    yaxis: {title: 'æµ‹é‡å€¼'},
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)'
                }
            }
        ];

        // ç« èŠ‚åˆ‡æ¢å‡½æ•°
        function switchChapter(chapterId, tabElement) {
            // éšè—å½“å‰ç« èŠ‚
            document.querySelectorAll('.chapter-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„activeçŠ¶æ€
            document.querySelectorAll('.chapter-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„ç« èŠ‚
            document.getElementById(chapterId).classList.add('active');
            if (tabElement) {
                tabElement.classList.add('active');
            }
            
            currentChapter = chapterId;
            
            // åˆå§‹åŒ–å¯¹åº”ç« èŠ‚çš„å›¾è¡¨
            setTimeout(() => {
                initializeChapter(chapterId);
            }, 100);
        }

        // åˆå§‹åŒ–ç« èŠ‚
        function initializeChapter(chapterId) {
            switch(chapterId) {
                case 'chapter2':
                    initChapter2();
                    break;
                case 'chapter3':
                    initChapter3();
                    break;
                case 'chapter4':
                    initChapter4();
                    break;
                case 'chapter6':
                    initChapter6();
                    break;
                case 'chapter3':
                    initChapter3();
                    break;
                case 'chapter4':
                    initChapter4();
                    break;
                case 'chapter5':
                    initChapter5();
                    break;
                case 'chapter6':
                    initChapter6();
                    break;
                case 'chapter7':
                    initChapter7();
                    break;
                case 'chapter8':
                    initChapter8();
                    break;
            }
        }

        // ========== ç¬¬äºŒç« å‡½æ•° ==========
        function initChapter2() {
            displayChart_ch2(ch2CurrentChartIndex);
            updateNavigation_ch2();
        }

        function displayChart_ch2(index) {
            const chart = ch2Charts[index];
            document.getElementById('ch2-currentChartTitle').textContent = chart.title;
            document.getElementById('ch2-chartDescription').textContent = chart.description;
            document.getElementById('ch2-chartIndicator').textContent = `å›¾è¡¨ ${index + 1}/${ch2Charts.length} - ${chart.title.split(' - ')[0]}`;
            
            Plotly.newPlot('ch2-currentChart', chart.data, chart.layout, {
                displayModeBar: true,
                displaylogo: false,
                responsive: true
            });
        }

        function prevChart_ch2() {
            if (ch2CurrentChartIndex > 0) {
                ch2CurrentChartIndex--;
                displayChart_ch2(ch2CurrentChartIndex);
                updateNavigation_ch2();
            }
        }

        function nextChart_ch2() {
            if (ch2CurrentChartIndex < ch2Charts.length - 1) {
                ch2CurrentChartIndex++;
                displayChart_ch2(ch2CurrentChartIndex);
                updateNavigation_ch2();
            }
        }

        function updateNavigation_ch2() {
            const prevBtn = document.getElementById('ch2-prevBtn');
            const nextBtn = document.getElementById('ch2-nextBtn');
            
            prevBtn.disabled = ch2CurrentChartIndex === 0;
            nextBtn.disabled = ch2CurrentChartIndex === ch2Charts.length - 1;
        }

        // ========== ç¬¬äº”ç« å‡½æ•°ï¼ˆå®Œæ•´5ä¸ªå®ä¾‹ï¼‰==========
        function initChapter5() {
            initExample1_ch5();
            initExample2_ch5();
            initExample3_ch5();
            initExample4_ch5();
            initExample5_ch5();
        }

        function showSection_ch5(sectionName) {
            // æ›´æ–°å¯¼èˆªæ ‡ç­¾çŠ¶æ€
            document.querySelectorAll('.ch5-nav-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.ch5-section').forEach(section => section.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(`ch5-${sectionName}`).classList.add('active');
            
            // åˆå§‹åŒ–å¯¹åº”çš„å›¾è¡¨
            setTimeout(() => {
                switch(sectionName) {
                    case 'example1':
                        initExample1_ch5();
                        break;
                    case 'example2':
                        initExample2_ch5();
                        break;
                    case 'example3':
                        initExample3_ch5();
                        break;
                    case 'example4':
                        initExample4_ch5();
                        break;
                    case 'example5':
                        initExample5_ch5();
                        break;
                }
            }, 100);
        }

        function initExample1_ch5() {
            const months = ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'];
            const productA = [20, 28, 23, 16, 29, 36, 39, 33, 31, 19, 21, 25];
            const productB = [17, 22, 39, 26, 35, 23, 25, 27, 29, 38, 28, 20];
            
            // æŠ˜çº¿å›¾
            const lineCtx = document.getElementById('ch5-example1-line');
            if (lineCtx) {
                if (ch5Charts.example1Line) ch5Charts.example1Line.destroy();
                ch5Charts.example1Line = new Chart(lineCtx, {
                    type: 'line',
                    data: {
                        labels: months,
                        datasets: [{
                            label: 'äº§å“A',
                            data: productA,
                            borderColor: '#FF6384',
                            backgroundColor: 'rgba(255, 99, 132, 0.1)',
                            tension: 0.1
                        }, {
                            label: 'äº§å“B',
                            data: productB,
                            borderColor: '#36A2EB',
                            backgroundColor: 'rgba(54, 162, 235, 0.1)',
                            tension: 0.1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
            
            // é¥¼å›¾1
            const pie1Ctx = document.getElementById('ch5-example1-pie1');
            if (pie1Ctx) {
                if (ch5Charts.example1Pie1) ch5Charts.example1Pie1.destroy();
                ch5Charts.example1Pie1 = new Chart(pie1Ctx, {
                    type: 'doughnut',
                    data: {
                        labels: months,
                        datasets: [{
                            data: productA,
                            backgroundColor: [
                                '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF',
                                '#FF9F40', '#FF6384', '#C9CBCF', '#4BC0C0', '#FF6384', '#36A2EB', '#FFCE56'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
            
            // é¥¼å›¾2
            const pie2Ctx = document.getElementById('ch5-example1-pie2');
            if (pie2Ctx) {
                if (ch5Charts.example1Pie2) ch5Charts.example1Pie2.destroy();
                ch5Charts.example1Pie2 = new Chart(pie2Ctx, {
                    type: 'doughnut',
                    data: {
                        labels: months,
                        datasets: [{
                            data: productB,
                            backgroundColor: [
                                '#36A2EB', '#FF6384', '#FFCE56', '#4BC0C0', '#9966FF',
                                '#FF9F40', '#36A2EB', '#C9CBCF', '#4BC0C0', '#36A2EB', '#FF6384', '#FFCE56'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
        }

        function initExample2_ch5() {
            const countries = ['ä¸­å›½', 'åŠ æ‹¿å¤§', 'å·´è¥¿', 'æ¾³å¤§åˆ©äºš', 'æ—¥æœ¬', 'å¢¨è¥¿å“¥', 'ä¿„ç½—æ–¯', 'éŸ©å›½', 'ç‘å£«', 'åœŸè€³å…¶', 'è‹±å›½', 'ç¾å›½'];
            const cats = [19, 33, 28, 29, 14, 24, 57, 6, 26, 15, 27, 39];
            const dogs = [25, 33, 58, 39, 15, 64, 29, 23, 22, 11, 27, 50];
            
            // å…»çŒ«äººç¾¤æ¯”ä¾‹
            const catsCtx = document.getElementById('ch5-example2-cats');
            if (catsCtx) {
                if (ch5Charts.example2Cats) ch5Charts.example2Cats.destroy();
                ch5Charts.example2Cats = new Chart(catsCtx, {
                    type: 'bar',
                    data: {
                        labels: countries,
                        datasets: [{
                            label: 'å…»çŒ«äººç¾¤æ¯”ä¾‹',
                            data: cats,
                            backgroundColor: 'rgba(255, 159, 64, 0.8)',
                            borderColor: 'rgba(255, 159, 64, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
            
            // å…»ç‹—äººç¾¤æ¯”ä¾‹
            const dogsCtx = document.getElementById('ch5-example2-dogs');
            if (dogsCtx) {
                if (ch5Charts.example2Dogs) ch5Charts.example2Dogs.destroy();
                ch5Charts.example2Dogs = new Chart(dogsCtx, {
                    type: 'bar',
                    data: {
                        labels: countries,
                        datasets: [{
                            label: 'å…»ç‹—äººç¾¤æ¯”ä¾‹',
                            data: dogs,
                            backgroundColor: 'rgba(54, 162, 235, 0.8)',
                            borderColor: 'rgba(54, 162, 235, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
        }

        function initExample3_ch5() {
            const regions = ['ä¸€çº¿åŸå¸‚', 'äºŒçº¿åŸå¸‚', 'ä¸‰çº¿åŸå¸‚', 'å››çº¿åŠä»¥å¤–', 'å…¶ä»–å›½å®¶åŠåœ°åŒº'];
            const growth = [51, 73, 99, 132, 45];
            const data2017 = [21, 35, 22, 19, 3];
            const data2018 = [13, 32, 27, 27, 1];
            
            // å¢é•¿å€æ•°
            const growthCtx = document.getElementById('ch5-example3-growth');
            if (growthCtx) {
                if (ch5Charts.example3Growth) ch5Charts.example3Growth.destroy();
                ch5Charts.example3Growth = new Chart(growthCtx, {
                    type: 'bar',
                    data: {
                        labels: regions,
                        datasets: [{
                            label: 'å¢é•¿å€æ•°',
                            data: growth,
                            backgroundColor: 'rgba(75, 192, 192, 0.8)',
                            borderColor: 'rgba(75, 192, 192, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
            
            // 2017å¹´æ•°æ®
            const ctx2017 = document.getElementById('ch5-example3-2017');
            if (ctx2017) {
                if (ch5Charts.example32017) ch5Charts.example32017.destroy();
                ch5Charts.example32017 = new Chart(ctx2017, {
                    type: 'pie',
                    data: {
                        labels: regions,
                        datasets: [{
                            data: data2017,
                            backgroundColor: [
                                '#2F4F4F', '#FF0000', '#A9A9A9', '#FFD700', '#B0C4DE'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
            
            // 2018å¹´æ•°æ®
            const ctx2018 = document.getElementById('ch5-example3-2018');
            if (ctx2018) {
                if (ch5Charts.example32018) ch5Charts.example32018.destroy();
                ch5Charts.example32018 = new Chart(ctx2018, {
                    type: 'pie',
                    data: {
                        labels: regions,
                        datasets: [{
                            data: data2018,
                            backgroundColor: [
                                '#2F4F4F', '#FF0000', '#A9A9A9', '#FFD700', '#B0C4DE'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
        }

        function initExample4_ch5() {
            const months = ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'];
            const temperature = [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 33.4, 23.0, 16.5, 12.0, 6.2];
            const precipitation = [2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3];
            const evaporation = [2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3];
            
            const ctx = document.getElementById('ch5-example4-climate');
            if (ctx) {
                if (ch5Charts.example4Climate) ch5Charts.example4Climate.destroy();
                ch5Charts.example4Climate = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: months,
                        datasets: [{
                            label: 'è’¸å‘é‡',
                            data: evaporation,
                            backgroundColor: 'rgba(255, 159, 64, 0.7)',
                            yAxisID: 'y',
                        }, {
                            label: 'é™æ°´é‡',
                            data: precipitation,
                            backgroundColor: 'rgba(75, 192, 192, 0.7)',
                            yAxisID: 'y',
                        }, {
                            label: 'å¹³å‡æ°”æ¸©',
                            data: temperature,
                            type: 'line',
                            borderColor: 'rgba(255, 99, 132, 1)',
                            backgroundColor: 'rgba(255, 99, 132, 0.1)',
                            yAxisID: 'y1',
                            tension: 0.1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'index',
                            intersect: false,
                        },
                        scales: {
                            y: {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                title: {
                                    display: true,
                                    text: 'æ°´é‡ (ml)'
                                }
                            },
                            y1: {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                title: {
                                    display: true,
                                    text: 'æ°”æ¸©(Â°C)'
                                },
                                grid: {
                                    drawOnChartArea: false,
                                },
                            },
                        }
                    }
                });
            }
        }

        function initExample5_ch5() {
            const months = ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'];
            const sales = [2150, 1050, 1560, 1480, 1530, 1490];
            const cities = ['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³', 'æµ™æ±Ÿ', 'å±±ä¸œ'];
            const salesCount = [83775, 62860, 59176, 64205, 48671, 39968];
            
            // é”€å”®é¢
            const salesCtx = document.getElementById('ch5-example5-sales');
            if (salesCtx) {
                if (ch5Charts.example5Sales) ch5Charts.example5Sales.destroy();
                ch5Charts.example5Sales = new Chart(salesCtx, {
                    type: 'bar',
                    data: {
                        labels: months,
                        datasets: [{
                            label: 'é”€å”®é¢(äº¿å…ƒ)',
                            data: sales,
                            backgroundColor: 'rgba(50, 153, 204, 0.8)',
                            borderColor: 'rgba(50, 153, 204, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
            
            // é”€é‡
            const countCtx = document.getElementById('ch5-example5-count');
            if (countCtx) {
                if (ch5Charts.example5Count) ch5Charts.example5Count.destroy();
                ch5Charts.example5Count = new Chart(countCtx, {
                    type: 'line',
                    data: {
                        labels: cities,
                        datasets: [{
                            label: 'é”€é‡(è¾†)',
                            data: salesCount,
                            borderColor: 'rgba(255, 99, 132, 1)',
                            backgroundColor: 'rgba(255, 99, 132, 0.1)',
                            tension: 0.1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
            
            // è¶‹åŠ¿å›¾
            const trendCtx = document.getElementById('ch5-example5-trend');
            if (trendCtx) {
                if (ch5Charts.example5Trend) ch5Charts.example5Trend.destroy();
                ch5Charts.example5Trend = new Chart(trendCtx, {
                    type: 'line',
                    data: {
                        labels: cities,
                        datasets: [{
                            label: 'é”€é‡è¶‹åŠ¿',
                            data: salesCount,
                            borderColor: 'rgba(153, 153, 255, 1)',
                            backgroundColor: 'rgba(153, 153, 255, 0.1)',
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
        }

        // ========== ç¬¬å…«ç« å‡½æ•°ï¼ˆå®Œæ•´10ä¸ªé«˜çº§å›¾è¡¨ï¼‰==========
        function initChapter8() {
            createContourChart_ch8();
            createStreamPlot_ch8();
            createStemChart_ch8();
            createDumbbellChart_ch8();
            createGanttChart_ch8();
            createPyramidChart_ch8();
            createFunnelChart_ch8();
            createSankeyChart_ch8();
            createTreeChart_ch8();
            createWaffleChart_ch8();
        }

        function showPrevChart_ch8() {
            if (ch8CurrentChartIndex > 0) {
                ch8CurrentChartIndex--;
                showChart_ch8(ch8CurrentChartIndex);
            }
        }

        function showNextChart_ch8() {
            if (ch8CurrentChartIndex < 9) {
                ch8CurrentChartIndex++;
                showChart_ch8(ch8CurrentChartIndex);
            }
        }

        function showChart_ch8(index) {
            // éšè—æ‰€æœ‰å›¾è¡¨
            document.querySelectorAll('.ch8-chart-container').forEach(chart => {
                chart.classList.remove('active');
            });
            
            // æ˜¾ç¤ºæŒ‡å®šå›¾è¡¨
            document.getElementById(`ch8-chart-${index}`).classList.add('active');
            
            // æ›´æ–°è®¡æ•°å™¨
            document.getElementById('ch8-counter').textContent = `${index + 1} / 10`;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById('ch8-prevBtn').disabled = index === 0;
            document.getElementById('ch8-nextBtn').disabled = index === 9;
            
            ch8CurrentChartIndex = index;
        }

        function createContourChart_ch8() {
            const n = 50;
            const x = [];
            const y = [];
            
            for (let i = 0; i < n; i++) {
                x.push(-2 + i * 4 / n);
                y.push(-2 + i * 4 / n);
            }
            
            const z = [];
            for (let i = 0; i < n; i++) {
                const row = [];
                for (let j = 0; j < n; j++) {
                    const x_val = x[j];
                    const y_val = y[i];
                    const h = (1 - x_val/2 + Math.pow(x_val, 5) + Math.pow(y_val, 3)) * 
                              Math.exp(-Math.pow(x_val, 2) - Math.pow(y_val, 2));
                    row.push(h);
                }
                z.push(row);
            }
            
            const data = [{
                x: x,
                y: y,
                z: z,
                type: 'contour',
                colorscale: 'Earth'
            }];
            
            const layout = {
                title: 'ä¸‰ç»´å‡½æ•°çš„ç­‰é«˜çº¿å›¾',
                xaxis: { title: 'Xè½´' },
                yaxis: { title: 'Yè½´' },
                margin: { t: 40, r: 20, b: 40, l: 40 },
                height: 350
            };
            
            Plotly.newPlot('ch8-contour-chart', data, layout, {responsive: true});
        }

        function createStreamPlot_ch8() {
            const n = 15;
            const arrowData = [];
            
            for (let i = 0; i < n; i++) {
                for (let j = 0; j < n; j++) {
                    const x_val = -3 + j * 6 / n;
                    const y_val = -3 + i * 6 / n;
                    
                    const u = -y_val;
                    const v = x_val;
                    
                    const scale = 0.15;
                    const x_end = x_val + u * scale;
                    const y_end = y_val + v * scale;
                    
                    arrowData.push({
                        type: 'scatter',
                        x: [x_val, x_end],
                        y: [y_val, y_end],
                        mode: 'lines',
                        line: { color: 'blue', width: 2 },
                        showlegend: false
                    });
                }
            }
            
            const layout = {
                title: 'çŸ¢é‡åœºæµçº¿å›¾',
                xaxis: { title: 'Xè½´', range: [-3, 3] },
                yaxis: { title: 'Yè½´', range: [-3, 3] },
                margin: { t: 40, r: 20, b: 40, l: 40 },
                height: 350
            };
            
            Plotly.newPlot('ch8-streamplot-chart', arrowData, layout, {responsive: true});
        }

        function createStemChart_ch8() {
            const brands = ['å®éª310', 'å®é©¬i3', 'è‡´äº«', 'ç„•é©°', 'åŠ›å¸†530', 'æ´¾åŠ›å¥¥', 'æ‚¦ç¿”V3', 'ä¹é£RV', 'å¥¥è¿ªA1', 'å¨é©°FS', 'å¤åˆ©N7', 'å¯è¾°R30', 'å’Œæ‚¦A13RS', 'è‡´ç‚«', 'èµ›æ¬§'];
            const consumption = [5.9, 6.2, 6.7, 7.0, 7.0, 7.1, 7.2, 7.4, 7.5, 7.6, 7.7, 7.7, 7.7, 7.8, 7.9];
            
            // åˆ›å»ºå‚ç›´çº¿æ¡ï¼ˆsteméƒ¨åˆ†ï¼‰
            const stemLines = [];
            for (let i = 0; i < brands.length; i++) {
                stemLines.push({
                    type: 'scatter',
                    mode: 'lines',
                    x: [i, i],
                    y: [0, consumption[i]],
                    line: {
                        color: 'blue',
                        width: 2
                    },
                    showlegend: false,
                    hoverinfo: 'none'
                });
            }
            
            // åˆ›å»ºæ•°æ®ç‚¹ï¼ˆmarkeréƒ¨åˆ†ï¼‰
            const markers = {
                x: Array.from({length: brands.length}, (_, i) => i),
                y: consumption,
                type: 'scatter',
                mode: 'markers',
                marker: {
                    color: 'red',
                    size: 8,
                    symbol: 'circle'
                },
                text: brands.map((brand, i) => `${brand}: ${consumption[i]} L/km`),
                hoverinfo: 'text',
                name: 'ç‡ƒæ–™æ¶ˆè€—é‡'
            };
            
            // åˆ›å»ºåŸºå‡†çº¿
            const baseline = {
                type: 'scatter',
                mode: 'lines',
                x: [-0.5, brands.length - 0.5],
                y: [0, 0],
                line: {
                    color: 'black',
                    width: 1
                },
                showlegend: false,
                hoverinfo: 'none'
            };
            
            const layout = {
                title: 'ä¸åŒå“ç‰Œè½¿è½¦çš„ç‡ƒæ–™æ¶ˆè€—é‡',
                xaxis: { 
                    title: 'æ±½è½¦å“ç‰Œ',
                    tickmode: 'array',
                    tickvals: Array.from({length: brands.length}, (_, i) => i),
                    ticktext: brands,
                    tickangle: 60
                },
                yaxis: { 
                    title: 'ç‡ƒæ–™æ¶ˆè€—é‡(L/km)',
                    range: [0, 10]
                },
                margin: { t: 40, r: 20, b: 100, l: 60 },
                height: 400
            };
            
            Plotly.newPlot('ch8-stem-chart', [baseline, ...stemLines, markers], layout, {responsive: true});
        }

        function createDumbbellChart_ch8() {
            const cities = ['çº½çº¦', 'æ´›æ‰çŸ¶', 'èŠåŠ å“¥', 'ä¼‘æ–¯é¡¿', 'è´¹åŸ', 'å‡¤å‡°åŸ', 'åœ£åœ°äºšå“¥', 'è¾¾æ‹‰æ–¯'];
            const pct_2013 = [2.3, 1.8, 3.1, 2.7, 1.9, 2.4, 2.8, 2.2];
            const pct_2014 = [3.1, 2.5, 2.8, 3.4, 2.8, 3.2, 3.5, 2.9];
            
            const trace2013 = {
                x: pct_2013,
                y: cities,
                type: 'scatter',
                mode: 'markers',
                name: '2013å¹´',
                marker: { color: 'blue', size: 10 }
            };
            
            const trace2014 = {
                x: pct_2014,
                y: cities,
                type: 'scatter',
                mode: 'markers',
                name: '2014å¹´',
                marker: { color: 'red', size: 10 }
            };
            
            const lines = [];
            for (let i = 0; i < cities.length; i++) {
                lines.push({
                    x: [pct_2013[i], pct_2014[i]],
                    y: [cities[i], cities[i]],
                    type: 'scatter',
                    mode: 'lines',
                    line: { color: 'gray', width: 2 },
                    showlegend: false
                });
            }
            
            const layout = {
                title: '2013å¹´ä¸2014å¹´åŸå¸‚äººå£PCTæŒ‡æ ‡å˜åŒ–',
                xaxis: { title: 'å˜åŒ–ç‡ (%)' },
                yaxis: { title: 'åŸå¸‚' },
                margin: { t: 40, r: 20, b: 40, l: 80 },
                height: 350
            };
            
            Plotly.newPlot('ch8-dumbbell-chart', [trace2013, trace2014, ...lines], layout, {responsive: true});
        }

        function createGanttChart_ch8() {
            const tasks = ['éœ€æ±‚åˆ†æ', 'ç³»ç»Ÿè®¾è®¡', 'å‰ç«¯å¼€å‘', 'åç«¯å¼€å‘', 'æ•°æ®åº“è®¾è®¡', 'æµ‹è¯•', 'éƒ¨ç½²ä¸Šçº¿'];
            const startDates = [0, 2, 4, 4, 3, 7, 9];
            const durations = [2, 2, 3, 4, 2, 2, 1];
            
            const trace = {
                x: startDates,
                y: tasks,
                width: durations,
                type: 'bar',
                orientation: 'h',
                marker: {
                    color: 'rgba(65, 105, 225, 0.8)',
                    line: {
                        color: 'rgba(65, 105, 225, 1)',
                        width: 1
                    }
                },
                text: durations.map(d => d + 'å‘¨'),
                textposition: 'inside',
                textfont: {
                    color: 'white',
                    size: 12
                }
            };
            
            const layout = {
                title: 'é¡¹ç›®ä»»åŠ¡ç”˜ç‰¹å›¾',
                xaxis: { 
                    title: 'å¼€å§‹æ—¶é—´ (å‘¨)',
                    range: [-1, 11]
                },
                yaxis: { 
                    title: 'ä»»åŠ¡åç§°',
                    autorange: 'reversed'
                },
                margin: { t: 40, r: 20, b: 60, l: 80 },
                height: 350
            };
            
            Plotly.newPlot('ch8-gantt-chart', [trace], layout, {responsive: true});
        }

        function createPyramidChart_ch8() {
            const ageGroups = ['0-9', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70+'];
            const male = [-120000, -95000, -85000, -75000, -68000, -55000, -40000, -25000];
            const female = [110000, 90000, 80000, 72000, 65000, 52000, 38000, 20000];
            
            const maleTrace = {
                y: ageGroups,
                x: male,
                type: 'bar',
                name: 'ç”·',
                orientation: 'h',
                marker: { color: 'lightblue' }
            };
            
            const femaleTrace = {
                y: ageGroups,
                x: female,
                type: 'bar',
                name: 'å¥³',
                orientation: 'h',
                marker: { color: 'lightpink' }
            };
            
            const layout = {
                title: 'äººå£é‡‘å­—å¡”å›¾',
                xaxis: { title: 'äººæ•°' },
                yaxis: { title: 'å¹´é¾„æ®µ' },
                margin: { t: 40, r: 20, b: 40, l: 40 },
                height: 350,
                barmode: 'overlay'
            };
            
            Plotly.newPlot('ch8-pyramid-chart', [maleTrace, femaleTrace], layout, {responsive: true});
        }

        function createFunnelChart_ch8() {
            const stages = ['è®¿é—®å•†å“', 'åŠ è´­ç‰©è½¦', 'ç”Ÿæˆè®¢å•', 'æ”¯ä»˜è®¢å•', 'å®Œæˆäº¤æ˜“'];
            const x1 = [1000, 500, 300, 200, 150];
            const x2 = x1.map(x => (Math.max(...x1) - x) / 2);
            const x3 = x1.map((x, i) => x + x2[i]);
            
            const trace1 = {
                x: x3,
                y: stages,
                type: 'bar',
                orientation: 'h',
                marker: {
                    color: 'green',
                    opacity: 0.5
                },
                name: 'æ€»é‡',
                hoverinfo: 'skip'
            };
            
            const trace2 = {
                x: x2,
                y: stages,
                type: 'bar',
                orientation: 'h',
                marker: {
                    color: 'white',
                    opacity: 1.0,
                    line: {
                        color: 'black',
                        width: 0.5
                    }
                },
                name: 'è¾…åŠ©',
                hoverinfo: 'skip'
            };
            
            const trace3 = {
                x: x2,
                y: stages,
                type: 'scatter',
                mode: 'lines',
                line: {
                    color: 'black',
                    width: 2
                },
                showlegend: false,
                hoverinfo: 'skip'
            };
            
            const trace4 = {
                x: x3,
                y: stages,
                type: 'scatter',
                mode: 'lines',
                line: {
                    color: 'black',
                    width: 2
                },
                showlegend: false,
                hoverinfo: 'skip'
            };
            
            const percentages = x1.map(x => ((x / x1[0]) * 100).toFixed(2) + '%');
            const trace5 = {
                x: x2.map((x, i) => x + (x3[i] - x2[i]) / 2),
                y: stages,
                type: 'scatter',
                mode: 'text',
                text: percentages,
                textfont: {
                    size: 14,
                    color: 'black'
                },
                showlegend: false,
                hoverinfo: 'skip'
            };
            
            const layout = {
                title: 'ç”¨æˆ·è½¬åŒ–æ¼æ–—å›¾',
                xaxis: { 
                    title: 'å®¢æˆ·æ•°é‡',
                    showticklabels: false
                },
                yaxis: { 
                    title: '',
                    tickmode: 'array',
                    tickvals: stages,
                    ticktext: stages
                },
                showlegend: false,
                margin: { t: 50, r: 80, b: 40, l: 80 },
                height: 400,
                barmode: 'overlay'
            };
            
            Plotly.newPlot('ch8-funnel-chart', [trace1, trace2, trace3, trace4, trace5], layout, {responsive: true});
        }

        function createSankeyChart_ch8() {
            const data = {
                type: "sankey",
                arrangement: "snap",
                node: {
                    pad: 15,
                    thickness: 30,
                    line: {
                        color: "black",
                        width: 0.5
                    },
                    label: ["å·¥èµ„", "å‰¯ä¸š", "ç”Ÿæ´»", "è´­ç‰©", "æ·±é€ ", "è¿åŠ¨", "å…¶ä»–", "ä¹°ä¹¦"],
                    color: ["lightgreen", "lightgreen", "lightcoral", "lightcoral", "lightcoral", "lightcoral", "lightcoral", "lightcoral"]
                },
                link: {
                    source: [0, 0, 0, 0, 0, 1, 1],
                    target: [2, 3, 4, 5, 6, 2, 7],
                    value: [0.3, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1],
                    color: "rgba(144, 238, 144, 0.5)"
                }
            };
            
            const layout = {
                title: "æ—¥å¸¸ç”Ÿæ´»å¼€æ”¯çš„æ¡‘åŸºå›¾",
                font: {
                    size: 12,
                    family: "Arial, sans-serif"
                },
                margin: { t: 50, r: 30, b: 30, l: 30 },
                height: 400
            };
            
            Plotly.newPlot('ch8-sankey-chart', [data], layout, {responsive: true});
        }

        function createTreeChart_ch8() {
            const nodes = [
                {x: 0, y: 0, text: "æ ¹èŠ‚ç‚¹", size: 20},
                {x: -2, y: 1, text: "åˆ†æ”¯A", size: 15},
                {x: 2, y: 1, text: "åˆ†æ”¯B", size: 15},
                {x: -3, y: 2, text: "å¶å­A1", size: 10},
                {x: -1, y: 2, text: "å¶å­A2", size: 10},
                {x: 1, y: 2, text: "å¶å­B1", size: 10},
                {x: 3, y: 2, text: "å¶å­B2", size: 10}
            ];
            
            const connections = [
                {x0: 0, y0: 0, x1: -2, y1: 1},
                {x0: 0, y0: 0, x1: 2, y1: 1},
                {x0: -2, y0: 1, x1: -3, y1: 2},
                {x0: -2, y0: 1, x1: -1, y1: 2},
                {x0: 2, y0: 1, x1: 1, y1: 2},
                {x0: 2, y0: 1, x1: 3, y1: 2}
            ];
            
            const lineTraces = connections.map(conn => ({
                x: [conn.x0, conn.x1],
                y: [conn.y0, conn.y1],
                mode: 'lines',
                line: { color: 'blue', width: 2 },
                showlegend: false
            }));
            
            const nodeTrace = {
                x: nodes.map(n => n.x),
                y: nodes.map(n => n.y),
                mode: 'markers+text',
                marker: {
                    size: nodes.map(n => n.size),
                    color: 'lightblue'
                },
                text: nodes.map(n => n.text),
                textposition: 'middle center'
            };
            
            const layout = {
                title: 'å±‚æ¬¡ç»“æ„æ ‘çŠ¶å›¾',
                xaxis: { showgrid: false, zeroline: false, showticklabels: false },
                yaxis: { showgrid: false, zeroline: false, showticklabels: false },
                margin: { t: 40, r: 20, b: 20, l: 20 },
                height: 350
            };
            
            Plotly.newPlot('ch8-tree-chart', [...lineTraces, nodeTrace], layout, {responsive: true});
        }

        function createWaffleChart_ch8() {
            const gridSize = 10;
            const totalCells = gridSize * gridSize;
            const percentage = 95;
            const filledCells = Math.round(totalCells * percentage / 100);
            
            const x = [];
            const y = [];
            const colors = [];
            const text = [];
            
            for (let row = 0; row < gridSize; row++) {
                for (let col = 0; col < gridSize; col++) {
                    const cellIndex = row * gridSize + col;
                    x.push(col);
                    y.push(gridSize - row - 1);
                    
                    if (cellIndex < filledCells) {
                        colors.push('#20B2AA');
                        text.push('');
                    } else {
                        colors.push('#D3D3D3');
                        text.push('');
                    }
                }
            }
            
            const trace = {
                x: x,
                y: y,
                mode: 'markers',
                type: 'scatter',
                marker: {
                    color: colors,
                    size: 30,
                    line: {
                        color: 'white',
                        width: 2
                    }
                },
                text: text,
                hoverinfo: 'none'
            };
            
            const layout = {
                title: 'ç”µå½±ã€Šå°‘å¹´çš„ä½ ã€‹ä¸Šåº§ç‡',
                xaxis: { 
                    title: '',
                    range: [-0.5, gridSize - 0.5],
                    showgrid: false,
                    zeroline: false,
                    showticklabels: false
                },
                yaxis: { 
                    title: '',
                    range: [-0.5, gridSize - 0.5],
                    showgrid: false,
                    zeroline: false,
                    showticklabels: false
                },
                margin: { t: 40, r: 20, b: 20, l: 20 },
                height: 350,
                showlegend: false
            };
            
            Plotly.newPlot('ch8-waffle-chart', [trace], layout, {responsive: true});
        }

        // ========== ç¬¬ä¸‰ç« å‡½æ•° ==========
        function initChapter3() {
            initBasicCharts_ch3();
            initInteractiveCharts_ch3();
        }

        function switchSection_ch3(section, tabElement) {
            // éšè—æ‰€æœ‰éƒ¨åˆ†
            document.querySelectorAll('.ch3-content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„activeçŠ¶æ€
            document.querySelectorAll('.ch3-nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„éƒ¨åˆ†
            document.getElementById(`ch3-${section}-section`).classList.add('active');
            tabElement.classList.add('active');
            
            ch3CurrentSection = section;
        }

        function initBasicCharts_ch3() {
            displayBasicChart_ch3(ch3CurrentBasicChartIndex);
            updateBasicNavigation_ch3();
        }

        function displayBasicChart_ch3(index) {
            const chart = ch3BasicCharts[index];
            document.getElementById('ch3-basic-chart-title').textContent = chart.title;
            document.getElementById('ch3-chartCounter').textContent = `${index + 1} / ${ch3BasicCharts.length}`;
            
            // æ¸…é™¤ä¹‹å‰çš„å›¾è¡¨
            const canvas = document.getElementById('ch3-current-basic-chart');
            const ctx = canvas.getContext('2d');
            
            // é”€æ¯ä¹‹å‰çš„å›¾è¡¨å®ä¾‹
            if (ch3BasicCharts.currentChart) {
                ch3BasicCharts.currentChart.destroy();
            }
            
            // åˆ›å»ºæ–°å›¾è¡¨
            ch3BasicCharts.currentChart = new Chart(ctx, {
                type: chart.type,
                data: chart.data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: chart.type === 'pie' ? {} : {
                        x: { title: { display: true, text: chart.title.includes('ç¥¨æˆ¿') ? 'ç”µå½±åç§°' : chart.title.includes('é€Ÿåº¦') ? 'é€Ÿåº¦(km/h)' : chart.title.includes('æˆç»©') ? 'ç­çº§' : 'Xè½´' } },
                        y: { title: { display: true, text: chart.title.includes('ç¥¨æˆ¿') ? 'ç¥¨æˆ¿(äº¿å…ƒ)' : chart.title.includes('é€Ÿåº¦') ? 'åˆ¶åŠ¨è·ç¦»(m)' : chart.title.includes('æˆç»©') ? 'å¹³å‡åˆ†' : 'Yè½´' } }
                    }
                }
            });
        }

        function prevBasicChart_ch3() {
            if (ch3CurrentBasicChartIndex > 0) {
                ch3CurrentBasicChartIndex--;
                displayBasicChart_ch3(ch3CurrentBasicChartIndex);
                updateBasicNavigation_ch3();
            }
        }

        function nextBasicChart_ch3() {
            if (ch3CurrentBasicChartIndex < ch3BasicCharts.length - 1) {
                ch3CurrentBasicChartIndex++;
                displayBasicChart_ch3(ch3CurrentBasicChartIndex);
                updateBasicNavigation_ch3();
            }
        }

        function updateBasicNavigation_ch3() {
            const prevBtn = document.getElementById('ch3-prevBtn');
            const nextBtn = document.getElementById('ch3-nextBtn');
            
            prevBtn.disabled = ch3CurrentBasicChartIndex === 0;
            nextBtn.disabled = ch3CurrentBasicChartIndex === ch3BasicCharts.length - 1;
        }

        function initInteractiveCharts_ch3() {
            updateInteractiveCharts_ch3();
        }

        function updateInteractiveCharts_ch3() {
            // åŠ¨æ€æŠ˜çº¿å›¾
            const dataPoints = parseInt(document.getElementById('ch3-dataPoints').value);
            const chartType = document.getElementById('ch3-chartType').value;
            const dataRange = parseInt(document.getElementById('ch3-dataRange').value);
            
            const lineData = [];
            for (let i = 0; i < dataPoints; i++) {
                lineData.push({
                    x: i,
                    y: Math.sin(i / 10) * dataRange + Math.random() * 10
                });
            }
            
            const scatterData = [];
            for (let i = 0; i < dataPoints; i++) {
                scatterData.push({
                    x: Math.random() * dataRange,
                    y: Math.random() * dataRange,
                    size: Math.random() * 20 + 5
                });
            }
            
            // åˆ›å»ºåŠ¨æ€æŠ˜çº¿å›¾
            Plotly.newPlot('ch3-dynamicLineChart', [{
                x: lineData.map(d => d.x),
                y: lineData.map(d => d.y),
                type: 'scatter',
                mode: 'lines',
                name: 'åŠ¨æ€æ•°æ®',
                line: { color: '#e74c3c' }
            }], {
                title: 'åŠ¨æ€æŠ˜çº¿å›¾',
                xaxis: { title: 'Xè½´' },
                yaxis: { title: 'Yè½´' }
            });
            
            // åˆ›å»ºäº¤äº’å¼æ•£ç‚¹å›¾
            Plotly.newPlot('ch3-interactiveScatter', [{
                x: scatterData.map(d => d.x),
                y: scatterData.map(d => d.y),
                mode: 'markers',
                marker: {
                    size: scatterData.map(d => d.size),
                    color: scatterData.map(d => d.y),
                    colorscale: 'Viridis'
                },
                name: 'æ•£ç‚¹æ•°æ®'
            }], {
                title: 'äº¤äº’å¼æ•£ç‚¹å›¾',
                xaxis: { title: 'Xå€¼' },
                yaxis: { title: 'Yå€¼' }
            });
            
            // åˆ›å»ºå®æ—¶æŸ±çŠ¶å›¾
            const categories = ['ç±»åˆ«A', 'ç±»åˆ«B', 'ç±»åˆ«C', 'ç±»åˆ«D', 'ç±»åˆ«E'];
            const barData = categories.map(() => Math.random() * dataRange);
            
            Plotly.newPlot('ch3-liveBarChart', [{
                x: categories,
                y: barData,
                type: 'bar',
                marker: { color: '#3498db' }
            }], {
                title: 'å®æ—¶æŸ±çŠ¶å›¾',
                yaxis: { title: 'æ•°å€¼' }
            });
        }

        // ========== ç¬¬å››ç« å‡½æ•° ==========
        function initChapter4() {
            initBookChart_ch4();
            initExchangeChart_ch4();
            initSalesChart_ch4();
            initTemperatureChart_ch4();
            initKochSnowflake_ch4();
        }

        function switchTab_ch4(tabId, buttonElement) {
            // éšè—æ‰€æœ‰å†…å®¹
            document.querySelectorAll('.ch4-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeçŠ¶æ€
            document.querySelectorAll('.ch4-tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„å†…å®¹
            document.getElementById(`ch4-${tabId}`).classList.add('active');
            buttonElement.classList.add('active');
        }

        function initBookChart_ch4() {
            const ctx = document.getElementById('ch4-instance1-chart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['æ–‡å­¦', 'ç§‘æŠ€', 'æ•™è‚²', 'è‰ºæœ¯', 'å†å²'],
                    datasets: [{
                        label: 'åœ°åŒºA',
                        data: [120, 150, 80, 90, 110],
                        backgroundColor: '#3498db'
                    }, {
                        label: 'åœ°åŒºB',
                        data: [100, 130, 90, 70, 120],
                        backgroundColor: '#e74c3c'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { title: { display: true, text: 'é‡‡è´­æ•°é‡' } }
                    }
                }
            });
        }

        function initExchangeChart_ch4() {
            const ctx = document.getElementById('ch4-instance2-chart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'],
                    datasets: [{
                        label: '2017å¹´',
                        data: [6.8, 6.9, 6.7, 6.8, 6.9, 6.8],
                        borderColor: '#2ecc71',
                        tension: 0.1
                    }, {
                        label: '2019å¹´',
                        data: [6.7, 6.8, 6.6, 6.7, 6.8, 6.7],
                        borderColor: '#f39c12',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { title: { display: true, text: 'æ±‡ç‡' } }
                    }
                }
            });
        }

        function initSalesChart_ch4() {
            const ctx = document.getElementById('ch4-instance3-chart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                    datasets: [{
                        label: 'äº§å“A',
                        data: [100, 120, 140, 160],
                        borderColor: '#9b59b6',
                        backgroundColor: 'rgba(155, 89, 182, 0.1)'
                    }, {
                        label: 'äº§å“B',
                        data: [80, 100, 120, 140],
                        borderColor: '#1abc9c',
                        backgroundColor: 'rgba(26, 188, 156, 0.1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { title: { display: true, text: 'é”€å”®é¢' } }
                    }
                }
            });
        }

        function initTemperatureChart_ch4() {
            const ctx = document.getElementById('ch4-instance4-chart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 15}, (_, i) => `${i+1}æ—¥`),
                    datasets: [{
                        label: 'æœ€é«˜æ°”æ¸©',
                        data: Array.from({length: 15}, () => Math.random() * 10 + 25),
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)'
                    }, {
                        label: 'æœ€ä½æ°”æ¸©',
                        data: Array.from({length: 15}, () => Math.random() * 10 + 15),
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { title: { display: true, text: 'æ¸©åº¦(Â°C)' } }
                    }
                }
            });
        }

        function initKochSnowflake_ch4() {
            drawKochSnowflake_ch4();
        }

        function drawKochSnowflake_ch4() {
            const canvas = document.getElementById('ch4-instance5-chart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 2;
            
            // ç»˜åˆ¶ç®€å•çš„é›ªèŠ±å›¾æ¡ˆ
            const centerX = width / 2;
            const centerY = height / 2;
            const radius = 100;
            
            for (let i = 0; i < 6; i++) {
                const angle = (i * Math.PI) / 3;
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(
                    centerX + radius * Math.cos(angle),
                    centerY + radius * Math.sin(angle)
                );
                ctx.stroke();
            }
        }

        // ========== ç¬¬å…­ç« å‡½æ•° ==========
        function initChapter6() {
            initAxisOverview_ch6();
        }

        function showSection_ch6(sectionId, buttonElement) {
            document.querySelectorAll('.ch6-chart-section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.ch6-nav-tab').forEach(button => {
                button.classList.remove('active');
            });
            
            document.getElementById(`ch6-${sectionId}`).classList.add('active');
            buttonElement.classList.add('active');
        }

        function initAxisOverview_ch6() {
            const data = [{
                type: 'scatter',
                mode: 'lines+markers',
                x: [1, 2, 3, 4, 5],
                y: [1, 4, 2, 3, 5],
                name: 'ç¤ºä¾‹æ•°æ®'
            }];
            
            const layout = {
                title: 'åæ ‡è½´ç¤ºä¾‹å›¾è¡¨',
                xaxis: {
                    title: 'Xè½´æ ‡ç­¾',
                    showgrid: true,
                    zeroline: true
                },
                yaxis: {
                    title: 'Yè½´æ ‡ç­¾',
                    showgrid: true,
                    zeroline: true
                }
            };
            
            Plotly.newPlot('ch6-basicAxisChart', data, layout);
        }

        function initChapter7() {
            // åˆ›å»º3Däº”è§’æ˜Ÿ
            const starData = [];
            const numStars = 50;
            
            for (let i = 0; i < numStars; i++) {
                const size = Math.random() * 5 + 2;
                const cx = (Math.random() - 0.5) * 40;
                const cy = (Math.random() - 0.5) * 40;
                const cz = (Math.random() - 0.5) * 40;
                
                const starPointsX = [];
                const starPointsY = [];
                const starPointsZ = [];
                
                for (let j = 0; j < 10; j++) {
                    let angle, radius;
                    if (j % 2 === 0) {
                        angle = (j * 36 - 90) * Math.PI / 180;
                        radius = size;
                    } else {
                        angle = (j * 36 - 90) * Math.PI / 180;
                        radius = size * 0.4;
                    }
                    
                    starPointsX.push(cx + radius * Math.cos(angle));
                    starPointsY.push(cy);
                    starPointsZ.push(cz + radius * Math.sin(angle));
                }
                
                starData.push({
                    x: starPointsX,
                    y: starPointsY,
                    z: starPointsZ,
                    type: 'scatter3d',
                    mode: 'lines',
                    line: {
                        color: `hsl(${Math.random() * 60 + 240}, 70%, 60%)`,
                        width: 2
                    },
                    name: `æ˜Ÿ${i+1}`
                });
            }
            
            const layout = {
                title: '3Dç«‹ç€äº”è§’æ˜Ÿç¾¤',
                scene: {
                    xaxis: {title: 'Xè½´'},
                    yaxis: {title: 'Yè½´'},
                    zaxis: {title: 'Zè½´'},
                    camera: {
                        eye: {x: 1.5, y: 1.5, z: 1.5}
                    }
                }
            };
            
            Plotly.newPlot('ch7-chart', starData, layout, {responsive: true});
        }

        // ========== æ§åˆ¶å‡½æ•° ==========
        function refreshExample1_ch5() {
            initExample1_ch5();
        }

        function toggleAnimation1_ch5() {
            // åŠ¨ç”»åˆ‡æ¢é€»è¾‘
        }

        function refreshExample2_ch5() {
            initExample2_ch5();
        }

        function sortData_ch5() {
            // æ’åºé€»è¾‘
        }

        function refreshExample3_ch5() {
            initExample3_ch5();
        }

        function compareYears_ch5() {
            alert('å¯¹æ¯”åˆ†æï¼š2018å¹´ç›¸æ¯”2017å¹´ï¼Œä¸€çº¿åŸå¸‚ç”¨æˆ·å¢é•¿51å€ï¼ŒäºŒçº¿åŸå¸‚å¢é•¿73å€');
        }

        function refreshExample4_ch5() {
            initExample4_ch5();
        }

        function toggleView_ch5() {
            // è§†å›¾åˆ‡æ¢é€»è¾‘
        }

        function refreshExample5_ch5() {
            initExample5_ch5();
        }

        function showAnalysis_ch5() {
            alert('åˆ†ææŠ¥å‘Šï¼šä¸ŠåŠå¹´æ€»é”€å”®é¢9210äº¿å…ƒï¼ŒåŒ—äº¬åœ°åŒºé”€é‡æœ€é«˜(83775è¾†)ï¼Œå‘ˆç°ç¨³æ­¥å¢é•¿è¶‹åŠ¿');
        }

        // ========== ç« èŠ‚åˆ‡æ¢è¾…åŠ©å‡½æ•° ==========
        function switchSection_ch3(section, tabElement) {
            // ç¬¬ä¸‰ç« ç« èŠ‚åˆ‡æ¢
        }

        function switchTab_ch4(instance, tabElement) {
            // ç¬¬å››ç« æ ‡ç­¾åˆ‡æ¢
        }

        function showSection_ch6(section, tabElement) {
            // ç¬¬å…­ç« ç« èŠ‚åˆ‡æ¢
        }

        // ========== é¡µé¢åŠ è½½åˆå§‹åŒ– ==========
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œåˆå§‹åŒ–ç¬¬äºŒç« ...');
            setTimeout(() => {
                initChapter2();
            }, 1000);
        });
    </script>
</body>
</html>